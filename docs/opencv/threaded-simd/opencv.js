(function(e,t){typeof define=="function"&&define.amd?define(function(){return e.cv=t()}):typeof module=="object"&&module.exports?module.exports=t():typeof window=="object"?e.cv=t():typeof importScripts=="function"?e.cv=t():e.cv=t()})(this,function(){var t,n,e=(()=>{var e=typeof document!="undefined"?document.currentScript?.src:void 0;return typeof __filename!="undefined"&&(e||=__filename),function(t={}){function w(){return _.buffer!=F.buffer&&M(),F}function E(){return _.buffer!=F.buffer&&M(),lo}function q(){return _.buffer!=F.buffer&&M(),Ps}function Ct(){return _.buffer!=F.buffer&&M(),Ns}function a(){return _.buffer!=F.buffer&&M(),Ts}function l(){return _.buffer!=F.buffer&&M(),Fs}function ea(){return _.buffer!=F.buffer&&M(),Ms}function Et(){return _.buffer!=F.buffer&&M(),Os}var n,o,i,r,c,d,u,h,m,p,g,v,b,j,_,O,x,C,k,A,S,F,T,z,L,R,P,H,I,B,V,$,W,U,K,Y,G,X,Z,J,Mn,s=t,At,vt,fe,It,Kt,tt,ge,je,Qe,Xe,Yt,Gt,Zt,ae,ei,Mi,an,Pe,Se,uo,lo,Ps,Ns,Ts,Fs,Ms,Os,ws,gn,vn,jn,rs,dt,ee,Rn,wn,we,Ve,re,ke,Ne,Le,Re,ps,mn,Be,dn,$e,We,_o,Ke,Ro,Vo,on,sn,yi,nt,_i,pe,$t,at,rt,lt,ki,ue,ht,Ht,gi,Rt,Eo,ce,wo,wt,vo,fn,Nn,kt,Ln,ys,Ft,Wo,Lt,ft,Ai,Vt,Ei,Ut,Ci,qt,wi,st,qo,be,ne,Oe,bo,xe,qs,Ee,Vs,ks,_s,gs,Fn,An,He,Ie,xt,Sn,Ot,xn,On,zn,Dn,qe,ye,Pn,Hn,Bn,Vn,he,se,Kn,te,yt,_n,Qn,Zn,Jn,Ce,is,yn,ls,ds,us,ms,fs,bn,vs,me,ot,xs,Cs,Es,pn,As,Ss,et,Fe,zs,Ds,Ls,Rs,Ue,Hs,Is,Bs,Cn,$s,Ws,Us,Ks,hn,Ys,Gs,Xs,Qs,Zs,Js,eo,to,no,so,oo,io,ao,ro,co,De,Ae,ho,ze,fo,po,En,Je,ln,jo,yo,cn,Te,Oo,xo,Co,Ti,ko,Ao,So,Mo,Fo,To,zo,Do,No,Lo,rn,Po,Ho,Io,Bo,Me,$o,ie,Uo,nn,tn,Go,Zo,_e,ti,en,Jt,oi,ii,ai,ri,ci,li,di,ui,hi,mi,fi,pi,bi,Qt,Xt,Ge,xi,it,Wt,Bt,ct,de,Pt,Nt,Dt,zt,Tt,Mt,St,hs,os,ss,ns,ts,es,Xn,Yn,Un,Wn,gt,qi=new Promise((e,t)=>{At=e,vt=t}),Oi=typeof window=="object",N=typeof importScripts=="function",y=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",f=N&&self.name=="em-pthread";y&&(fe=require("worker_threads"),global.Worker=fe.Worker,N=!fe.isMainThread,f=N&&fe.workerData=="em-pthread"),It=Object.assign({},s),Kt=[],tt="./this.program",ge=(e,t)=>{throw t},k="";function oa(e){return s.locateFile?s.locateFile(e,k):k+e}if(y?(B=require("fs"),Yt=require("path"),k=__dirname+"/",je=(e,t)=>(e=we(e)?new URL(e):Yt.normalize(e),B.readFileSync(e,t?void 0:"utf8")),Xe=e=>{var t=je(e,!0);return t.buffer||(t=new Uint8Array(t)),t},Qe=(e,t,n,s=!0)=>{e=we(e)?new URL(e):Yt.normalize(e),B.readFile(e,s?void 0:"utf8",(e,o)=>{e?n(e):t(s?o.buffer:o)})},!s.thisProgram&&process.argv.length>1&&(tt=process.argv[1].replace(/\\/g,"/")),Kt=process.argv.slice(2),ge=(e,t)=>{throw process.exitCode=e,t}):(Oi||N)&&(N?k=self.location.href:typeof document!="undefined"&&document.currentScript&&(k=document.currentScript.src),e&&(k=e),k.startsWith("blob:")?k="":k=k.substr(0,k.replace(/[?#].*/,"").lastIndexOf("/")+1),y||(je=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},N&&(Xe=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),Qe=(e,t,n)=>{if(we(e)){var s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType="arraybuffer",s.onload=()=>{if(s.status==200||s.status==0&&s.response){t(s.response);return}n()},s.onerror=n,s.send(null);return}fetch(e,{credentials:"same-origin"}).then(e=>e.ok?e.arrayBuffer():Promise.reject(new Error(e.status+" : "+e.url))).then(t,n)})),y&&typeof performance=="undefined"&&(global.performance=require("perf_hooks").performance),Gt=console.log.bind(console),Zt=console.error.bind(console),y&&(Gt=(...e)=>B.writeSync(1,e.join(" ")+`
`),Zt=(...e)=>B.writeSync(2,e.join(" ")+`
`)),ae=s.print||Gt,g=s.printErr||Zt,Object.assign(s,It),It=null,s.arguments&&(Kt=s.arguments),s.thisProgram&&(tt=s.thisProgram),s.quit&&(ge=s.quit),f){y&&(an=fe.parentPort,an.on("message",e=>onmessage({data:e})),Object.assign(globalThis,{self:global,importScripts:()=>{},postMessage:e=>an.postMessage(e),performance:global.performance||{now:Date.now}})),Pe=!1;function zi(...t){var e=t.join(" ");if(y){B.writeSync(2,e+`
`);return}console.error(e)}s.printErr||(g=zi);function Di(...e){var t=e.join(" ");postMessage({cmd:"alert",text:t,threadId:I()})}self.alert=Di,s.instantiateWasm=(e,t)=>new Promise((e,n)=>{ei=n=>{var s=new WebAssembly.Instance(n,cs());t(s),e()},Mi=n}),self.onunhandledrejection=e=>{throw e.reason||e};function un(e){try{var t=e.data,n=t.cmd;if(n==="load"){let e=[];self.onmessage=t=>e.push(t),self.startWorker=t=>{postMessage({cmd:"loaded"});for(let t of e)un(t);self.onmessage=un};for(const e of t.handlers)(!s[e]||s[e].proxy)&&(s[e]=(...t)=>{postMessage({cmd:"callHandler",handler:e,args:t})},e=="print"&&(ae=s[e]),e=="printErr"&&(g=s[e]));_=t.wasmMemory,M(),ei(t.wasmModule)}else if(n==="run"){it(t.pthread_ptr,0,0,1,0,0),De(t.pthread_ptr),Eo(),r.receiveObjectTransfer(t),r.threadInitTLS(),Pe||(Xt(),Pe=!0);try{vo(t.start_routine,t.arg)}catch(e){if(e!="unwind")throw e}}else n==="cancel"?I()&&de(-1):t.target==="setimmediate"||(n==="checkMailbox"?Pe&&Ae():n&&(g(`worker: received unknown command ${n}`),g(t)))}catch(e){throw Wt(),e}}self.onmessage=un}s.wasmBinary&&(Se=s.wasmBinary),U=!1;function M(){var e=_.buffer;s.HEAP8=F=new Int8Array(e),s.HEAP16=Ps=new Int16Array(e),s.HEAPU8=lo=new Uint8Array(e),s.HEAPU16=Ns=new Uint16Array(e),s.HEAP32=Ts=new Int32Array(e),s.HEAPU32=Fs=new Uint32Array(e),s.HEAPF32=Ms=new Float32Array(e),s.HEAPF64=Os=new Float64Array(e)}if(!f){if(s.wasmMemory)_=s.wasmMemory;else if(ws=s.INITIAL_MEMORY||134217728,_=new WebAssembly.Memory({initial:ws/65536,maximum:1073741824/65536,shared:!0}),!(_.buffer instanceof SharedArrayBuffer))throw g("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),y&&g("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");M()}gn=[],vn=[],jn=[],rs=!1;function Bi(){if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)qn(s.preRun.shift());lt(gn)}function Gn(){if(rs=!0,f)return;!s.noFSInit&&!n.init.initialized&&n.init(),n.ignorePermissions=!1,L.init(),lt(vn)}function Fi(){if(f)return;if(s.postRun)for(typeof s.postRun=="function"&&(s.postRun=[s.postRun]);s.postRun.length;)Yi(s.postRun.shift());lt(jn)}function qn(e){gn.unshift(e)}function Ui(e){vn.unshift(e)}function Yi(e){jn.unshift(e)}P=0,dt=null,ee=null;function In(e){return e}function ve(){P++,s.monitorRunDependencies?.(P)}function Q(){if(P--,s.monitorRunDependencies?.(P),P==0&&(dt!==null&&(clearInterval(dt),dt=null),ee)){var t=ee;ee=null,t()}}function Ze(e){s.onAbort?.(e),e="Aborted("+e+")",g(e),U=!0,K=1,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw vt(t),t}Rn="data:application/octet-stream;base64,",wn=e=>e.startsWith(Rn),we=e=>e.startsWith("file://");function ta(){var e="opencv_js.wasm";return wn(e)?e:oa(e)}function kn(e){if(e==Ve&&Se)return new Uint8Array(Se);if(Xe)return Xe(e);throw"both async and sync fetching of the wasm failed"}function Ni(e){return Se?Promise.resolve().then(()=>kn(e)):new Promise((t,n)=>{Qe(e,e=>t(new Uint8Array(e)),s=>{try{t(kn(e))}catch(e){n(e)}})})}function Tn(e,t,n){return Ni(e).then(e=>WebAssembly.instantiate(e,t)).then(n,e=>{g(`failed to asynchronously prepare wasm: ${e}`),Ze(e)})}function Gi(e,t,n,s){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!wn(t)&&!we(t)&&!y&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(e=>{var o=WebAssembly.instantiateStreaming(e,n);return o.then(s,function(e){return g(`wasm streaming compile failed: ${e}`),g("falling back to ArrayBuffer instantiation"),Tn(t,n,s)})}):Tn(t,n,s)}function cs(){return Wi(),{a:pi}}function Ri(){var e=cs();function t(e,t){return h=e.exports,Nn(h.pa),wo=h.na,Ui(h.ia),uo=t,Q("wasm-instantiate"),h}ve("wasm-instantiate");function n(e){t(e.instance,e.module)}if(s.instantiateWasm)try{return s.instantiateWasm(e,t)}catch(e){g(`Module.instantiateWasm callback failed with error: ${e}`),vt(e)}return Ve||(Ve=ta()),Gi(Se,Ve,e,n).catch(vt),{}}re=0,ke=()=>{re+=1},Ne=(e,t)=>{if(o.mainLoop.timingMode=e,o.mainLoop.timingValue=t,!o.mainLoop.func)return 1;if(o.mainLoop.running||(ke(),o.mainLoop.running=!0),e==0)o.mainLoop.scheduler=function(){var n=Math.max(0,o.mainLoop.tickStartTime+t-Le())|0;setTimeout(o.mainLoop.runner,n)},o.mainLoop.method="timeout";else if(e==1)o.mainLoop.scheduler=function(){o.requestAnimationFrame(o.mainLoop.runner)},o.mainLoop.method="rAF";else if(e==2){if(typeof o.setImmediate=="undefined")if(typeof setImmediate=="undefined"){var i=[],n="setimmediate",a=e=>{(e.data===n||e.data.target===n)&&(e.stopPropagation(),i.shift()())};addEventListener("message",a,!0),o.setImmediate=function(t){i.push(t),N?(s.setImmediates===void 0&&(s.setImmediates=[]),s.setImmediates.push(t),postMessage({target:n})):postMessage(n,"*")}}else o.setImmediate=setImmediate;o.mainLoop.scheduler=function(){o.setImmediate(o.mainLoop.runner)},o.mainLoop.method="immediate"}return 0},Le=()=>performance.timeOrigin+performance.now(),Re=()=>{re-=1},ps=(e,t,n,s,i)=>{o.mainLoop.func=e,o.mainLoop.arg=s;var r=o.mainLoop.currentlyRunningMainloop;function a(){return!(r<o.mainLoop.currentlyRunningMainloop)||(Re(),!1)}if(o.mainLoop.running=!1,o.mainLoop.runner=function(){if(U)return;if(o.mainLoop.queue.length>0){var n,s,r=Date.now(),i=o.mainLoop.queue.shift();if(i.func(i.arg),o.mainLoop.remainingBlockers&&(n=o.mainLoop.remainingBlockers,s=n%1==0?n-1:Math.floor(n),i.counted?o.mainLoop.remainingBlockers=s:(s=s+.5,o.mainLoop.remainingBlockers=(8*n+s)/9)),o.mainLoop.updateStatus(),!a())return;setTimeout(o.mainLoop.runner,0);return}if(!a())return;if(o.mainLoop.currentFrameNumber=o.mainLoop.currentFrameNumber+1|0,o.mainLoop.timingMode==1&&o.mainLoop.timingValue>1&&o.mainLoop.currentFrameNumber%o.mainLoop.timingValue!=0){o.mainLoop.scheduler();return}if(o.mainLoop.timingMode==0&&(o.mainLoop.tickStartTime=Le()),o.mainLoop.runIter(e),!a())return;typeof SDL=="object"&&SDL.audio?.queueNewAudioData?.(),o.mainLoop.scheduler()},i||(t&&t>0?Ne(0,1e3/t):Ne(1,1),o.mainLoop.scheduler()),n)throw"unwind"},mn=e=>{if(e instanceof mo||e=="unwind")return K;ge(1,e)};function mo(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}Be=()=>fn||re>0,dn=()=>Tt(),$e=e=>Dt(e),We=e=>zt(e),_o=(e,t)=>t+2097152>>>0<4194305-!!e?(e>>>0)+t*4294967296:NaN,Ke=e=>{e.terminate(),e.onmessage=e=>{}},Ro=e=>{var t=r.pthreads[e];delete r.pthreads[e],Ke(t),ct(e),r.runningWorkers.splice(r.runningWorkers.indexOf(t),1),t.pthread_ptr=0},Vo=e=>{var t=r.pthreads[e];t.postMessage({cmd:"cancel"})},on=e=>{var t=r.pthreads[e];r.returnWorkerToPool(t)},sn=e=>{var n,t=r.getNewWorker();return t?(r.runningWorkers.push(t),r.pthreads[e.pthread_ptr]=t,t.pthread_ptr=e.pthread_ptr,n={cmd:"run",start_routine:e.startRoutine,arg:e.arg,pthread_ptr:e.pthread_ptr},y&&t.unref(),t.postMessage(n,e.transferList),0):6},r={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init(){f?r.initWorker():r.initMainThread()},initMainThread(){for(var e=4;e--;)r.allocateUnusedWorker();qn(()=>{ve("loading-workers"),r.loadWasmModuleToAllWorkers(()=>Q("loading-workers"))})},initWorker(){fn=!1},setExitStatus:e=>K=e,terminateAllThreads__deps:["$terminateWorker"],terminateAllThreads:()=>{for(var e of r.runningWorkers)Ke(e);for(var e of r.unusedWorkers)Ke(e);r.unusedWorkers=[],r.runningWorkers=[],r.pthreads=[]},returnWorkerToPool:e=>{var t=e.pthread_ptr;delete r.pthreads[t],r.unusedWorkers.push(e),r.runningWorkers.splice(r.runningWorkers.indexOf(e),1),e.pthread_ptr=0,ct(t)},receiveObjectTransfer(){},threadInitTLS(){r.tlsInitFunctions.forEach(e=>e())},loadWasmModuleToWorker:e=>new Promise(t=>{e.onmessage=n=>{var a,o=n.data,i=o.cmd;if(o.targetThread&&o.targetThread!=I()){a=r.pthreads[o.targetThread],a?a.postMessage(o,o.transferList):g(`Internal error! Worker sent a message "${i}" to target pthread ${o.targetThread}, but that thread no longer exists!`);return}i==="checkMailbox"?Ae():i==="spawnThread"?sn(o):i==="cleanupThread"?on(o.thread):i==="killThread"?Ro(o.thread):i==="cancelThread"?Vo(o.thread):i==="loaded"?(e.loaded=!0,y&&!e.pthread_ptr&&e.unref(),t(e)):i==="alert"?alert(`Thread ${o.threadId}: ${o.text}`):o.target==="setimmediate"?e.postMessage(o):i==="callHandler"?s[o.handler](...o.args):i&&g(`worker sent an unknown command ${i}`)},e.onerror=e=>{var t="worker sent an error!";throw g(`${t} ${e.filename}:${e.lineno}: ${e.message}`),e},y&&(e.on("message",t=>e.onmessage({data:t})),e.on("error",t=>e.onerror(t)));var o,n=[],i=["onExit","onAbort","print","printErr"];for(o of i)s.propertyIsEnumerable(o)&&n.push(o);e.postMessage({cmd:"load",handlers:n,wasmMemory:_,wasmModule:uo})}),loadWasmModuleToAllWorkers(e){if(f)return e();let t=Promise.all(r.unusedWorkers.map(r.loadWasmModuleToWorker));t.then(e)},allocateUnusedWorker(){var n,o={workerData:"em-pthread",name:"em-pthread"},t=e;s.mainScriptUrlOrBlob&&(t=s.mainScriptUrlOrBlob,typeof t!="string"&&(t=URL.createObjectURL(t))),n=new Worker(t,o),r.unusedWorkers.push(n)},getNewWorker(){return r.unusedWorkers.length==0&&(r.allocateUnusedWorker(),r.loadWasmModuleToWorker(r.unusedWorkers[0])),r.unusedWorkers.pop()}},C=(e,t,n,...s)=>{for(var r,c,i=s.length,l=dn(),a=We(i*8),d=a>>3,o=0;o<s.length;o++)r=s[o],Et()[d+o]=r;return c=Bt(e,t,i,a,n),$e(l),c};function Ko(e){if(f)return C(0,0,1,e);K=e,Be()||(r.terminateAllThreads(),s.onExit?.(e),U=!0),ge(e,new mo(e))}function ji(e){if(f)return C(1,0,0,e);nt(e)}yi=(e)=>{if(K=e,f)throw ji(e),"unwind";Ko(e)},nt=yi,_i=()=>{if(!Be())try{f?de(K):nt(K)}catch(e){mn(e)}},pe=e=>{if(U)return;try{e(),_i()}catch(e){mn(e)}},$t=(e,t)=>(ke(),setTimeout(()=>{Re(),pe(e)},t)),at=e=>{at.shown||={},at.shown[e]||(at.shown[e]=1,y&&(e="warning: "+e),g(e))},rt=s.preloadPlugins||[],o={mainLoop:{running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause(){o.mainLoop.scheduler=null,o.mainLoop.currentlyRunningMainloop++},resume(){o.mainLoop.currentlyRunningMainloop++;var e=o.mainLoop.timingMode,t=o.mainLoop.timingValue,n=o.mainLoop.func;o.mainLoop.func=null,ps(n,0,!1,o.mainLoop.arg,!0),Ne(e,t),o.mainLoop.scheduler()},updateStatus(){if(s.setStatus){var t=s.statusMessage||"Please wait...",e=o.mainLoop.remainingBlockers,n=o.mainLoop.expectedBlockers;e?e<n?s.setStatus(`{message} ({expected - remaining}/{expected})`):s.setStatus(t):s.setStatus("")}},runIter(e){if(U)return;if(s.preMainLoop){var t=s.preMainLoop();if(t===!1)return}pe(e),s.postMainLoop?.()}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init(){if(o.initted)return;o.initted=!0;var e,t,i={};i.canHandle=function(t){return!s.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(t)},i.handle=function(t,n,s,i){var a,r,c=new Blob([t],{type:o.getMimetype(n)});c.size!==t.length&&(c=new Blob([new Uint8Array(t).buffer],{type:o.getMimetype(n)})),r=URL.createObjectURL(c),a=new Image,a.onload=()=>{var o,e=document.createElement("canvas");e.width=a.width,e.height=a.height,o=e.getContext("2d"),o.drawImage(a,0,0),hi[n]=e,URL.revokeObjectURL(r),s?.(t)},a.onerror=e=>{g(`Image ${r} could not be decoded`),i?.()},a.src=r},rt.push(i),t={},t.canHandle=function(t){return!s.noAudioDecoding&&t.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},t.handle=function(t,n,s){var a,l,d,r=!1;function c(e){if(r)return;r=!0,mi[n]=e,s?.(t)}l=new Blob([t],{type:o.getMimetype(n)}),d=URL.createObjectURL(l),a=new Audio,a.addEventListener("canplaythrough",()=>c(a),!1),a.onerror=function(){if(r)return;g(`warning: browser could not fully decode audio ${n}, trying slower base64 approach`);function o(e){for(var r,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="=",t="",s=0,n=0,a=0;a<e.length;a++)for(s=s<<8|e[a],n+=8;n>=6;)r=s>>n-6&63,n-=6,t+=o[r];return n==2?(t+=o[(s&3)<<4],t+=i+i):n==4&&(t+=o[(s&15)<<2],t+=i),t}a.src="data:audio/x-"+n.substr(-3)+";base64,"+o(t),c(a)},a.src=d,$t(()=>{c(a)},1e4)},rt.push(t);function n(){o.pointerLock=document.pointerLockElement===s.canvas||document.mozPointerLockElement===s.canvas||document.webkitPointerLockElement===s.canvas||document.msPointerLockElement===s.canvas}e=s.canvas,e&&(e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock||e.msRequestPointerLock||(()=>{}),e.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||(()=>{}),e.exitPointerLock=e.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",n,!1),document.addEventListener("mozpointerlockchange",n,!1),document.addEventListener("webkitpointerlockchange",n,!1),document.addEventListener("mspointerlockchange",n,!1),s.elementPointerLock&&e.addEventListener("click",e=>{!o.pointerLock&&s.canvas.requestPointerLock&&(s.canvas.requestPointerLock(),e.preventDefault())},!1))},createContext(e,t,n,i){if(t&&s.ctx&&e==s.canvas)return s.ctx;if(t){var a,r,l,c={antialias:!1,alpha:!1,majorVersion:1};if(i)for(l in i)c[l]=i[l];typeof GL!="undefined"&&(r=GL.createContext(e,c),r&&(a=GL.getContext(r).GLctx))}else a=e.getContext("2d");return a?(n&&(s.ctx=a,t&&GL.makeContextCurrent(r),s.useWebGL=t,o.moduleContextCreatedCallbacks.forEach(e=>e()),o.init()),a):null},destroyContext(){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen(e,t){o.lockPointer=e,o.resizeCanvas=t,typeof o.lockPointer=="undefined"&&(o.lockPointer=!0),typeof o.resizeCanvas=="undefined"&&(o.resizeCanvas=!1);var n,i=s.canvas;function a(){o.isFullscreen=!1;var e=i.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(i.exitFullscreen=o.exitFullscreen,o.lockPointer&&i.requestPointerLock(),o.isFullscreen=!0,o.resizeCanvas?o.setFullscreenCanvasSize():o.updateCanvasDimensions(i)):(e.parentNode.insertBefore(i,e),e.parentNode.removeChild(e),o.resizeCanvas?o.setWindowedCanvasSize():o.updateCanvasDimensions(i)),s.onFullScreen?.(o.isFullscreen),s.onFullscreen?.(o.isFullscreen)}o.fullscreenHandlersInstalled||(o.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",a,!1),document.addEventListener("mozfullscreenchange",a,!1),document.addEventListener("webkitfullscreenchange",a,!1),document.addEventListener("MSFullscreenChange",a,!1)),n=document.createElement("div"),i.parentNode.insertBefore(n,i),n.appendChild(i),n.requestFullscreen=n.requestFullscreen||n.mozRequestFullScreen||n.msRequestFullscreen||(n.webkitRequestFullscreen?()=>n.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):null)||(n.webkitRequestFullScreen?()=>n.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):null),n.requestFullscreen()},exitFullscreen(){if(!o.isFullscreen)return!1;var e=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||(()=>{});return e.apply(document,[]),!0},nextRAF:0,fakeRequestAnimationFrame(e){var n,t=Date.now();if(o.nextRAF===0)o.nextRAF=t+1e3/60;else for(;t+2>=o.nextRAF;)o.nextRAF+=1e3/60;n=Math.max(o.nextRAF-t,0),setTimeout(e,n)},requestAnimationFrame(e){if(typeof requestAnimationFrame=="function"){requestAnimationFrame(e);return}var t=o.fakeRequestAnimationFrame;t(e)},safeSetTimeout(e,t){return $t(e,t)},safeRequestAnimationFrame(e){return ke(),o.requestAnimationFrame(()=>{Re(),pe(e)})},getMimetype(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia(e){window.getUserMedia||=navigator.getUserMedia||navigator.mozGetUserMedia,window.getUserMedia(e)},getMovementX(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta(e){var t=0;switch(e.type){case"DOMMouseScroll":t=e.detail/3;break;case"mousewheel":t=e.wheelDelta/120;break;case"wheel":switch(t=e.deltaY,e.deltaMode){case 0:t/=100;break;case 1:t/=3;break;case 2:t*=80;break;default:throw"unrecognized mouse wheel delta mode: "+e.deltaMode}break;default:throw"unrecognized mouse wheel event: "+e.type}return t},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseCoords(e,t){var n=s.canvas.getBoundingClientRect(),a=s.canvas.width,r=s.canvas.height,c=typeof window.scrollX!="undefined"?window.scrollX:window.pageXOffset,l=typeof window.scrollY!="undefined"?window.scrollY:window.pageYOffset,o=e-(c+n.left),i=t-(l+n.top),o=o*(a/n.width),i=i*(r/n.height);return{x:o,y:i}},setMouseCoords(e,t){const{x:n,y:s}=o.calculateMouseCoords(e,t);o.mouseMovementX=n-o.mouseX,o.mouseMovementY=s-o.mouseY,o.mouseX=n,o.mouseY=s},calculateMouseEvent(e){if(o.pointerLock)e.type!="mousemove"&&"mozMovementX"in e?o.mouseMovementX=o.mouseMovementY=0:(o.mouseMovementX=o.getMovementX(e),o.mouseMovementY=o.getMovementY(e)),o.mouseX+=o.mouseMovementX,o.mouseY+=o.mouseMovementY;else{if(e.type==="touchstart"||e.type==="touchend"||e.type==="touchmove"){var n,s,t=e.touch;if(t===void 0)return;n=o.calculateMouseCoords(t.pageX,t.pageY),e.type==="touchstart"?(o.lastTouches[t.identifier]=n,o.touches[t.identifier]=n):(e.type==="touchend"||e.type==="touchmove")&&(s=o.touches[t.identifier],s||=n,o.lastTouches[t.identifier]=s,o.touches[t.identifier]=n);return}o.setMouseCoords(e.pageX,e.pageY)}},resizeListeners:[],updateResizeListeners(){var e=s.canvas;o.resizeListeners.forEach(t=>t(e.width,e.height))},setCanvasSize(e,t,n){var i=s.canvas;o.updateCanvasDimensions(i,e,t),n||o.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize(){if(typeof SDL!="undefined"){var e=l()[SDL.screen>>2],e=e|8388608;a()[SDL.screen>>2]=e}o.updateCanvasDimensions(s.canvas),o.updateResizeListeners()},setWindowedCanvasSize(){if(typeof SDL!="undefined"){var e=l()[SDL.screen>>2],e=e&~8388608;a()[SDL.screen>>2]=e}o.updateCanvasDimensions(s.canvas),o.updateResizeListeners()},updateCanvasDimensions(e,t,n){t&&n?(e.widthNative=t,e.heightNative=n):(t=e.widthNative,n=e.heightNative);var r,i=t,a=n;s.forcedAspectRatio&&s.forcedAspectRatio>0&&(i/a<s.forcedAspectRatio?i=Math.round(a*s.forcedAspectRatio):a=Math.round(i/s.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&typeof screen!="undefined"&&(r=Math.min(screen.width/i,screen.height/a),i=Math.round(i*r),a=Math.round(a*r)),o.resizeCanvas?(e.width!=i&&(e.width=i),e.height!=a&&(e.height=a),typeof e.style!="undefined"&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=n&&(e.height=n),typeof e.style!="undefined"&&(i!=t||a!=n?(e.style.setProperty("width",i+"px","important"),e.style.setProperty("height",a+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}},lt=e=>{for(;e.length>0;)e.shift()(s)},ki=e=>{var t=dn(),n=e();return $e(t),n},ue=e=>{for(var n,t=0,s=0;s<e.length;++s)n=e.charCodeAt(s),n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++s):t+=3;return t},ht=(e,t,n,s)=>{if(!(s>0))return 0;for(var o,r,c=n,i=n+s-1,a=0;a<e.length;++a)if(o=e.charCodeAt(a),o>=55296&&o<=57343&&(r=e.charCodeAt(++a),o=65536+((o&1023)<<10)|r&1023),o<=127){if(n>=i)break;t[n++]=o}else if(o<=2047){if(n+1>=i)break;t[n++]=192|o>>6,t[n++]=128|o&63}else if(o<=65535){if(n+2>=i)break;t[n++]=224|o>>12,t[n++]=128|o>>6&63,t[n++]=128|o&63}else{if(n+3>=i)break;t[n++]=240|o>>18,t[n++]=128|o>>12&63,t[n++]=128|o>>6&63,t[n++]=128|o&63}return t[n]=0,n-c},Ht=(e,t,n)=>ht(e,E(),t,n),gi=e=>{var t=ue(e)+1,n=We(t);return Ht(e,n,t),n},Rt=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0,V=(e,t,n)=>{for(var s,i,a,r,c,l=t+n,o=t;e[o]&&!(o>=l);)++o;if(o-t>16&&e.buffer&&Rt)return Rt.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,o):e.subarray(t,o));for(i="";t<o;){if(s=e[t++],!(s&128)){i+=String.fromCharCode(s);continue}if(a=e[t++]&63,(s&224)==192){i+=String.fromCharCode((s&31)<<6|a);continue}r=e[t++]&63,(s&240)==224?s=(s&15)<<12|a<<6|r:s=(s&7)<<18|a<<12|r<<6|e[t++]&63,s<65536?i+=String.fromCharCode(s):(c=s-65536,i+=String.fromCharCode(55296|c>>10,56320|c&1023))}return i},X=(e,t)=>e?V(E(),e,t):"",Z=e=>(Z.recursionGuard=(Z.recursionGuard|0)+1,Z.recursionGuard>1?e:ki(()=>{try{var n,s,o,t=e;if(t.startsWith("__Z")&&(t=t.substr(1)),o=gi(t),s=We(4),n=Mt(o,0,0,s),a()[s>>2]===0&&n)return X(n)}catch{}finally{A(n),Z.recursionGuard<2&&--Z.recursionGuard}return e})),Eo=()=>{var t=I(),e=l()[t+52>>2],n=l()[t+56>>2],s=e-n;Nt(e,s),$e(e)},ce=[],wt=e=>{var t=ce[e];return t||(e>=ce.length&&(ce.length=e+1),ce[e]=t=wo.get(e)),t},vo=(e,t)=>{re=0;var n=wt(e)(t);function s(e){Be()?r.setExitStatus(e):de(e)}s(n)},fn=s.noExitRuntime||!0,Nn=e=>r.tlsInitFunctions.push(e);class Qi{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){l()[this.ptr+4>>2]=e}get_type(){return l()[this.ptr+4>>2]}set_destructor(e){l()[this.ptr+8>>2]=e}get_destructor(){return l()[this.ptr+8>>2]}set_caught(e){e=e?1:0,w()[this.ptr+12]=e}get_caught(){return w()[this.ptr+12]!=0}set_rethrown(e){e=e?1:0,w()[this.ptr+13]=e}get_rethrown(){return w()[this.ptr+13]!=0}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){l()[this.ptr+16>>2]=e}get_adjusted_ptr(){return l()[this.ptr+16>>2]}get_exception_ptr(){var e,t=St(this.get_type());return t?l()[this.excPtr>>2]:(e=this.get_adjusted_ptr(),e!==0?e:this.excPtr)}}kt=0,Ln=0,ys=(e,t,n)=>{var s=new Qi(e);throw s.init(t,n),kt=e,Ln++,kt};function go(e,t,n,s){return f?C(2,0,1,e,t,n,s):Ft(e,t,n,s)}Ft=(e,t,n,s)=>{if(typeof SharedArrayBuffer=="undefined")return g("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var o,i=[],a=0;return f&&(i.length===0||a)?go(e,t,n,s):a||(o={startRoutine:n,pthread_ptr:e,arg:s,transferList:i},f?(o.cmd="spawnThread",postMessage(o,i),0):sn(o))};function Ye(){var e=a()[+x.varargs>>2];return x.varargs+=4,e}W=Ye,m={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;return t.exec(e).slice(1)},normalizeArray:(e,t)=>{for(var o,s=0,n=e.length-1;n>=0;n--)o=e[n],o==="."?e.splice(n,1):o===".."?(e.splice(n,1),s++):s&&(e.splice(n,1),s--);if(t)for(;s;s--)e.unshift("..");return e},normalize:e=>{var t=m.isAbs(e),n=e.substr(-1)==="/";return e=m.normalizeArray(e.split("/").filter(e=>!!e),!t).join("/"),!e&&!t&&(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:e=>{var n=m.splitPath(e),s=n[0],t=n[1];return!s&&!t?".":(t&&(t=t.substr(0,t.length-1)),s+t)},basename:e=>{if(e==="/")return"/";e=m.normalize(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},join:(...e)=>m.normalize(e.join("/")),join2:(e,t)=>m.normalize(e+"/"+t)},Wo=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>(e.set(crypto.getRandomValues(new Uint8Array(e.byteLength))),e);if(y)try{var n,e=require("crypto"),t=e.randomFillSync;return t?t=>e.randomFillSync(t):(n=e.randomBytes,e=>(e.set(n(e.byteLength)),e))}catch{}Ze("initRandomDevice")},Lt=e=>(Lt=Wo())(e),T={resolve:(...e)=>{for(var s,t="",o=!1,i=e.length-1;i>=-1&&!o;i--){if(s=i>=0?e[i]:n.cwd(),typeof s!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!s)return"";t=s+"/"+t,o=m.isAbs(s)}return t=m.normalizeArray(t.split("/").filter(e=>!!e),!o).join("/"),(o?"/":"")+t||"."},relative:(e,t)=>{e=T.resolve(e).substr(1),t=T.resolve(t).substr(1);function r(e){for(var n,t=0;t<e.length;t++)if(e[t]!=="")break;for(n=e.length-1;n>=0;n--)if(e[n]!=="")break;return t>n?[]:e.slice(t,n-t+1)}for(var s,o=r(e.split("/")),i=r(t.split("/")),c=Math.min(o.length,i.length),a=c,n=0;n<c;n++)if(o[n]!==i[n]){a=n;break}for(s=[],n=a;n<o.length;n++)s.push("..");return s=s.concat(i.slice(a)),s.join("/")}},ft=[];function mt(e,t,n){var o=n>0?n:ue(e)+1,s=new Array(o),i=ht(e,s,0,s.length);return t&&(s.length=i),s}Ai=()=>{if(!ft.length){var t,n,s,o,e=null;if(y){n=256,s=Buffer.alloc(n),t=0,o=process.stdin.fd;try{t=B.readSync(o,s,0,n)}catch(e){if(e.toString().includes("EOF"))t=0;else throw e}t>0&&(e=s.slice(0,t).toString("utf-8"))}else typeof window!="undefined"&&typeof window.prompt=="function"&&(e=window.prompt("Input: "),e!==null&&(e+=`
`));if(!e)return null;ft=mt(e,!0)}return ft.shift()},L={ttys:[],init(){},shutdown(){},register(e,t){L.ttys[e]={input:[],output:[],ops:t},n.registerDevice(e,L.stream_ops)},stream_ops:{open(e){var t=L.ttys[e.node.rdev];if(!t)throw new n.ErrnoError(43);e.tty=t,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,t,s,o){if(!e.tty||!e.tty.ops.get_char)throw new n.ErrnoError(60);for(var a,r=0,c=0;c<o;c++){try{a=e.tty.ops.get_char(e.tty)}catch{throw new n.ErrnoError(29)}if(a===void 0&&r===0)throw new n.ErrnoError(6);if(a==null)break;r++,t[s+c]=a}return r&&(e.node.timestamp=Date.now()),r},write(e,t,s,o){if(!e.tty||!e.tty.ops.put_char)throw new n.ErrnoError(60);try{for(var a=0;a<o;a++)e.tty.ops.put_char(e.tty,t[s+a])}catch{throw new n.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char(){return Ai()},put_char(e,t){t===null||t===10?(ae(V(e.output,0)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){e.output&&e.output.length>0&&(ae(V(e.output,0)),e.output=[])},ioctl_tcgets(){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(){return 0},ioctl_tiocgwinsz(){return[24,80]}},default_tty1_ops:{put_char(e,t){t===null||t===10?(g(V(e.output,0)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){e.output&&e.output.length>0&&(g(V(e.output,0)),e.output=[])}}},Vt=e=>{Ze()},c={ops_table:null,mount(){return c.createNode(null,"/",16384|511,0)},createNode(e,t,s,o){if(n.isBlkdev(s)||n.isFIFO(s))throw new n.ErrnoError(63);c.ops_table||={dir:{node:{getattr:c.node_ops.getattr,setattr:c.node_ops.setattr,lookup:c.node_ops.lookup,mknod:c.node_ops.mknod,rename:c.node_ops.rename,unlink:c.node_ops.unlink,rmdir:c.node_ops.rmdir,readdir:c.node_ops.readdir,symlink:c.node_ops.symlink},stream:{llseek:c.stream_ops.llseek}},file:{node:{getattr:c.node_ops.getattr,setattr:c.node_ops.setattr},stream:{llseek:c.stream_ops.llseek,read:c.stream_ops.read,write:c.stream_ops.write,allocate:c.stream_ops.allocate,mmap:c.stream_ops.mmap,msync:c.stream_ops.msync}},link:{node:{getattr:c.node_ops.getattr,setattr:c.node_ops.setattr,readlink:c.node_ops.readlink},stream:{}},chrdev:{node:{getattr:c.node_ops.getattr,setattr:c.node_ops.setattr},stream:n.chrdev_stream_ops}};var i=n.createNode(e,t,s,o);return n.isDir(i.mode)?(i.node_ops=c.ops_table.dir.node,i.stream_ops=c.ops_table.dir.stream,i.contents={}):n.isFile(i.mode)?(i.node_ops=c.ops_table.file.node,i.stream_ops=c.ops_table.file.stream,i.usedBytes=0,i.contents=null):n.isLink(i.mode)?(i.node_ops=c.ops_table.link.node,i.stream_ops=c.ops_table.link.stream):n.isChrdev(i.mode)&&(i.node_ops=c.ops_table.chrdev.node,i.stream_ops=c.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i,e.timestamp=i.timestamp),i},getFileDataAsTypedArray(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage(e,t){var s,o,n=e.contents?e.contents.length:0;if(n>=t)return;s=1024*1024,t=Math.max(t,n*(n<s?2:1.125)>>>0),n!=0&&(t=Math.max(t,256)),o=e.contents,e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(o.subarray(0,e.usedBytes),0)},resizeFileStorage(e,t){if(e.usedBytes==t)return;if(t==0)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr(e){var t={};return t.dev=n.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,n.isDir(e.mode)?t.size=4096:n.isFile(e.mode)?t.size=e.usedBytes:n.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr(e,t){t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&c.resizeFileStorage(e,t.size)},lookup(){throw n.genericErrors[44]},mknod(e,t,n,s){return c.createNode(e,t,n,s)},rename(e,t,s){if(n.isDir(e.mode)){var o,i;try{o=n.lookupNode(t,s)}catch{}if(o)for(i in o.contents)throw new n.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=s,t.contents[s]=e,t.timestamp=e.parent.timestamp},unlink(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir(e,t){var o,s=n.lookupNode(e,t);for(o in s.contents)throw new n.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir(e){var n,t=[".",".."];for(n of Object.keys(e.contents))t.push(n);return t},symlink(e,t,n){var s=c.createNode(e,t,511|40960,0);return s.link=n,s},readlink(e){if(!n.isLink(e.mode))throw new n.ErrnoError(28);return e.link}},stream_ops:{read(e,t,n,s,o){var i,a,r=e.node.contents;if(o>=e.node.usedBytes)return 0;if(i=Math.min(e.node.usedBytes-o,s),i>8&&r.subarray)t.set(r.subarray(o,o+i),n);else for(a=0;a<i;a++)t[n+a]=r[o+a];return i},write(e,t,n,s,o,i){if(t.buffer===w().buffer&&(i=!1),!s)return 0;var r,a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(i)return a.contents=t.subarray(n,n+s),a.usedBytes=s,s;if(a.usedBytes===0&&o===0)return a.contents=t.slice(n,n+s),a.usedBytes=s,s;if(o+s<=a.usedBytes)return a.contents.set(t.subarray(n,n+s),o),s}if(c.expandFileStorage(a,o+s),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(n,n+s),o);else for(r=0;r<s;r++)a.contents[o+r]=t[n+r];return a.usedBytes=Math.max(a.usedBytes,o+s),s},llseek(e,t,s){var o=t;if(s===1?o+=e.position:s===2&&n.isFile(e.node.mode)&&(o+=e.node.usedBytes),o<0)throw new n.ErrnoError(28);return o},allocate(e,t,n){c.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap(e,t,s,o,i){if(!n.isFile(e.node.mode))throw new n.ErrnoError(43);var r,c,a=e.node.contents;if(!(i&2)&&a.buffer===w().buffer)c=!1,r=a.byteOffset;else{if((s>0||s+t<a.length)&&(a.subarray?a=a.subarray(s,s+t):a=Array.prototype.slice.call(a,s,s+t)),c=!0,r=Vt(t),!r)throw new n.ErrnoError(48);w().set(a,r)}return{ptr:r,allocated:c}},msync(e,t,n,s){return c.stream_ops.write(e,t,0,s,n,!1),0}}},Ei=(e,t,n,s)=>{var o=s?"":In(`al ${e}`);Qe(e,e=>{t(new Uint8Array(e)),o&&Q(o)},t=>{if(n)n();else throw`Loading data file "${e}" failed.`}),o&&ve(o)},Ut=(e,t,s,o,i,a)=>{n.createDataFile(e,t,s,o,i,a)},Ci=(e,t,n,s)=>{typeof o!="undefined"&&o.init();var i=!1;return rt.forEach(o=>{if(i)return;o.canHandle(t)&&(o.handle(e,t,n,s),i=!0)}),i},qt=(e,t,n,s,o,i,a,r,c,l)=>{var u=t?T.resolve(m.join2(e,t)):e,d=In(`cp ${u}`);function h(n){function h(n){l?.(),r||Ut(e,t,n,s,o,c),i?.(),Q(d)}if(Ci(n,u,h,()=>{a?.(),Q(d)}))return;h(n)}ve(d),typeof n=="string"?Ei(n,h,a):h(n)},wi=e=>{var n={r:0,"r+":2,w:512|64|1,"w+":512|64|2,a:1024|64|1,"a+":1024|64|2},t=n[e];if(typeof t=="undefined")throw new Error(`Unknown file open mode: ${e}`);return t},st=(e,t)=>{var n=0;return e&&(n|=292|73),t&&(n|=146),n},n={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(e){this.name="ErrnoError",this.errno=e}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(e){this.node=e}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{constructor(e,t,s,o){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=n.nextInode++,this.name=t,this.mode=s,this.node_ops={},this.stream_ops={},this.rdev=o,this.readMode=292|73,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return n.isDir(this.mode)}get isDevice(){return n.isChrdev(this.mode)}},lookupPath(e,t={}){if(e=T.resolve(e),!e)return{path:"",node:null};var s,o,i,a,r,c,l,d,u={follow_mount:!0,recurse_count:0};if(t=Object.assign(u,t),t.recurse_count>8)throw new n.ErrnoError(32);for(a=e.split("/").filter(e=>!!e),s=n.root,o="/",i=0;i<a.length;i++){if(r=i===a.length-1,r&&t.parent)break;if(s=n.lookupNode(s,a[i]),o=m.join2(o,a[i]),n.isMountpoint(s)&&(!r||r&&t.follow_mount)&&(s=s.mounted.root),!r||t.follow)for(c=0;n.isLink(s.mode);)if(l=n.readlink(o),o=T.resolve(m.dirname(o),l),d=n.lookupPath(o,{recurse_count:t.recurse_count+1}),s=d.node,c++>40)throw new n.ErrnoError(32)}return{path:o,node:s}},getPath(e){for(;!0;){if(n.isRoot(e)){var t,s=e.mount.mountpoint;return t?s[s.length-1]!=="/"?`${s}/${t}`:s+t:s}t=t?`${e.name}/${t}`:e.name,e=e.parent}},hashName(e,t){for(var s=0,o=0;o<t.length;o++)s=(s<<5)-s+t.charCodeAt(o)|0;return(e+s>>>0)%n.nameTable.length},hashAddNode(e){var t=n.hashName(e.parent.id,e.name);e.name_next=n.nameTable[t],n.nameTable[t]=e},hashRemoveNode(e){var t,s=n.hashName(e.parent.id,e.name);if(n.nameTable[s]===e)n.nameTable[s]=e.name_next;else for(t=n.nameTable[s];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode(e,t){var s,i,a,o=n.mayLookup(e);if(o)throw new n.ErrnoError(o);for(i=n.hashName(e.id,t),s=n.nameTable[i];s;s=s.name_next)if(a=s.name,s.parent.id===e.id&&a===t)return s;return n.lookup(e,t)},createNode(e,t,s,o){var i=new n.FSNode(e,t,s,o);return n.hashAddNode(i),i},destroyNode(e){n.hashRemoveNode(e)},isRoot(e){return e===e.parent},isMountpoint(e){return!!e.mounted},isFile(e){return(e&61440)===32768},isDir(e){return(e&61440)===16384},isLink(e){return(e&61440)===40960},isChrdev(e){return(e&61440)===8192},isBlkdev(e){return(e&61440)===24576},isFIFO(e){return(e&61440)===4096},isSocket(e){return(e&49152)===49152},flagsToPermissionString(e){var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},nodePermissions(e,t){return n.ignorePermissions?0:t.includes("r")&&!(e.mode&292)?2:t.includes("w")&&!(e.mode&146)?2:t.includes("x")&&!(e.mode&73)?2:0},mayLookup(e){if(!n.isDir(e.mode))return 54;var t=n.nodePermissions(e,"x");return t?t:e.node_ops.lookup?0:2},mayCreate(e,t){try{var s=n.lookupNode(e,t);return 20}catch{}return n.nodePermissions(e,"wx")},mayDelete(e,t,s){try{o=n.lookupNode(e,t)}catch(e){return e.errno}var o,i=n.nodePermissions(e,"wx");if(i)return i;if(s){{if(!n.isDir(o.mode))return 54;if(n.isRoot(o)||n.getPath(o)===n.cwd())return 10}}else if(n.isDir(o.mode))return 31;return 0},mayOpen(e,t){return e?n.isLink(e.mode)?32:n.isDir(e.mode)&&(n.flagsToPermissionString(t)!=="r"||t&512)?31:n.nodePermissions(e,n.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=n.MAX_OPEN_FDS;e++)if(!n.streams[e])return e;throw new n.ErrnoError(33)},getStreamChecked(e){var t=n.getStream(e);if(!t)throw new n.ErrnoError(8);return t},getStream:e=>n.streams[e],createStream(e,t=-1){return e=Object.assign(new n.FSStream,e),t==-1&&(t=n.nextfd()),e.fd=t,n.streams[t]=e,e},closeStream(e){n.streams[e]=null},dupStream(e,t=-1){var s=n.createStream(e,t);return s.stream_ops?.dup?.(s),s},chrdev_stream_ops:{open(e){var t=n.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open?.(e)},llseek(){throw new n.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,t)=>e<<8|t,registerDevice(e,t){n.devices[e]={stream_ops:t}},getDevice:e=>n.devices[e],getMounts(e){for(var n,s=[],t=[e];t.length;)n=t.pop(),s.push(n),t.push(...n.mounts);return s},syncfs(e,t){typeof e=="function"&&(t=e,e=!1),n.syncFSRequests++,n.syncFSRequests>1&&g(`warning: ${n.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var o=n.getMounts(n.root.mount),a=0;function i(e){return n.syncFSRequests--,t(e)}function s(e){if(e){if(!s.errored)return s.errored=!0,i(e);return}++a>=o.length&&i(null)}o.forEach(t=>{if(!t.type.syncfs)return s(null);t.type.syncfs(t,e,s)})},mount(e,t,s){var o,i,a,c,r=s==="/",l=!s;if(r&&n.root)throw new n.ErrnoError(10);if(!r&&!l){if(c=n.lookupPath(s,{follow_mount:!1}),s=c.path,o=c.node,n.isMountpoint(o))throw new n.ErrnoError(10);if(!n.isDir(o.mode))throw new n.ErrnoError(54)}return i={type:e,opts:t,mountpoint:s,mounts:[]},a=e.mount(i),a.mount=i,i.root=a,r?n.root=a:o&&(o.mounted=i,o.mount&&o.mount.mounts.push(i)),a},unmount(e){var t,s,i,a,o=n.lookupPath(e,{follow_mount:!1});if(!n.isMountpoint(o.node))throw new n.ErrnoError(28);t=o.node,s=t.mounted,i=n.getMounts(s),Object.keys(n.nameTable).forEach(e=>{for(var s,t=n.nameTable[e];t;)s=t.name_next,i.includes(t.mount)&&n.destroyNode(t),t=s}),t.mounted=null,a=t.mount.mounts.indexOf(s),t.mount.mounts.splice(a,1)},lookup(e,t){return e.node_ops.lookup(e,t)},mknod(e,t,s){var a,r=n.lookupPath(e,{parent:!0}),i=r.node,o=m.basename(e);if(!o||o==="."||o==="..")throw new n.ErrnoError(28);if(a=n.mayCreate(i,o),a)throw new n.ErrnoError(a);if(!i.node_ops.mknod)throw new n.ErrnoError(63);return i.node_ops.mknod(i,o,t,s)},create(e,t){return t=t!==void 0?t:438,t&=4095,t|=32768,n.mknod(e,t,0)},mkdir(e,t){return t=t!==void 0?t:511,t&=511|512,t|=16384,n.mknod(e,t,0)},mkdirTree(e,t){for(var o=e.split("/"),i="",s=0;s<o.length;++s){if(!o[s])continue;i+="/"+o[s];try{n.mkdir(i,t)}catch(e){if(e.errno!=20)throw e}}},mkdev(e,t,s){return typeof s=="undefined"&&(s=t,t=438),t|=8192,n.mknod(e,t,s)},symlink(e,t){if(!T.resolve(e))throw new n.ErrnoError(44);var o,i,a=n.lookupPath(t,{parent:!0}),s=a.node;if(!s)throw new n.ErrnoError(44);if(o=m.basename(t),i=n.mayCreate(s,o),i)throw new n.ErrnoError(i);if(!s.node_ops.symlink)throw new n.ErrnoError(63);return s.node_ops.symlink(s,o,e)},rename(e,t){var s,a,r,l,d,f=m.dirname(e),p=m.dirname(t),u=m.basename(e),c=m.basename(t),h=n.lookupPath(e,{parent:!0}),o=h.node,h=n.lookupPath(t,{parent:!0}),i=h.node;if(!o||!i)throw new n.ErrnoError(44);if(o.mount!==i.mount)throw new n.ErrnoError(75);if(a=n.lookupNode(o,u),l=T.relative(e,p),l.charAt(0)!==".")throw new n.ErrnoError(28);if(l=T.relative(t,f),l.charAt(0)!==".")throw new n.ErrnoError(55);try{r=n.lookupNode(i,c)}catch{}if(a===r)return;if(d=n.isDir(a.mode),s=n.mayDelete(o,u,d),s)throw new n.ErrnoError(s);if(s=r?n.mayDelete(i,c,d):n.mayCreate(i,c),s)throw new n.ErrnoError(s);if(!o.node_ops.rename)throw new n.ErrnoError(63);if(n.isMountpoint(a)||r&&n.isMountpoint(r))throw new n.ErrnoError(10);if(i!==o&&(s=n.nodePermissions(o,"w"),s))throw new n.ErrnoError(s);n.hashRemoveNode(a);try{o.node_ops.rename(a,i,c),a.parent=i}catch(e){throw e}finally{n.hashAddNode(a)}},rmdir(e){var a=n.lookupPath(e,{parent:!0}),t=a.node,s=m.basename(e),o=n.lookupNode(t,s),i=n.mayDelete(t,s,!0);if(i)throw new n.ErrnoError(i);if(!t.node_ops.rmdir)throw new n.ErrnoError(63);if(n.isMountpoint(o))throw new n.ErrnoError(10);t.node_ops.rmdir(t,s),n.destroyNode(o)},readdir(e){var s=n.lookupPath(e,{follow:!0}),t=s.node;if(!t.node_ops.readdir)throw new n.ErrnoError(54);return t.node_ops.readdir(t)},unlink(e){var s,o,i,a=n.lookupPath(e,{parent:!0}),t=a.node;if(!t)throw new n.ErrnoError(44);if(s=m.basename(e),o=n.lookupNode(t,s),i=n.mayDelete(t,s,!1),i)throw new n.ErrnoError(i);if(!t.node_ops.unlink)throw new n.ErrnoError(63);if(n.isMountpoint(o))throw new n.ErrnoError(10);t.node_ops.unlink(t,s),n.destroyNode(o)},readlink(e){var s=n.lookupPath(e),t=s.node;if(!t)throw new n.ErrnoError(44);if(!t.node_ops.readlink)throw new n.ErrnoError(28);return T.resolve(n.getPath(t.parent),t.node_ops.readlink(t))},stat(e,t){var o=n.lookupPath(e,{follow:!t}),s=o.node;if(!s)throw new n.ErrnoError(44);if(!s.node_ops.getattr)throw new n.ErrnoError(63);return s.node_ops.getattr(s)},lstat(e){return n.stat(e,!0)},chmod(e,t,s){if(typeof e=="string"){var o,i=n.lookupPath(e,{follow:!s});o=i.node}else o=e;if(!o.node_ops.setattr)throw new n.ErrnoError(63);o.node_ops.setattr(o,{mode:t&4095|o.mode&~4095,timestamp:Date.now()})},lchmod(e,t){n.chmod(e,t,!0)},fchmod(e,t){var s=n.getStreamChecked(e);n.chmod(s.node,t)},chown(e,t,s,o){if(typeof e=="string"){var i,a=n.lookupPath(e,{follow:!o});i=a.node}else i=e;if(!i.node_ops.setattr)throw new n.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown(e,t,s){n.chown(e,t,s,!0)},fchown(e,t,s){var o=n.getStreamChecked(e);n.chown(o.node,t,s)},truncate(e,t){if(t<0)throw new n.ErrnoError(28);if(typeof e=="string"){var s,o,i=n.lookupPath(e,{follow:!0});s=i.node}else s=e;if(!s.node_ops.setattr)throw new n.ErrnoError(63);if(n.isDir(s.mode))throw new n.ErrnoError(31);if(!n.isFile(s.mode))throw new n.ErrnoError(28);if(o=n.nodePermissions(s,"w"),o)throw new n.ErrnoError(o);s.node_ops.setattr(s,{size:t,timestamp:Date.now()})},ftruncate(e,t){var s=n.getStreamChecked(e);if((s.flags&2097155)===0)throw new n.ErrnoError(28);n.truncate(s.node,t)},utime(e,t,s){var i=n.lookupPath(e,{follow:!0}),o=i.node;o.node_ops.setattr(o,{timestamp:Math.max(t,s)})},open(e,t,o){if(e==="")throw new n.ErrnoError(44);if(t=typeof t=="string"?wi(t):t,t&64?(o=typeof o=="undefined"?438:o,o=o&4095|32768):o=0,typeof e=="object")i=e;else{e=m.normalize(e);try{var i,a,r,c,l=n.lookupPath(e,{follow:!(t&131072)});i=l.node}catch{}}if(r=!1,t&64)if(i){if(t&128)throw new n.ErrnoError(20)}else i=n.mknod(e,o,0),r=!0;if(!i)throw new n.ErrnoError(44);if(n.isChrdev(i.mode)&&(t&=~512),t&65536&&!n.isDir(i.mode))throw new n.ErrnoError(54);if(!r&&(c=n.mayOpen(i,t),c))throw new n.ErrnoError(c);return t&512&&!r&&n.truncate(i,0),t&=~(128|512|131072),a=n.createStream({node:i,path:n.getPath(i),flags:t,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1}),a.stream_ops.open&&a.stream_ops.open(a),s.logReadFiles&&!(t&1)&&(n.readFiles||(n.readFiles={}),e in n.readFiles||(n.readFiles[e]=1)),a},close(e){if(n.isClosed(e))throw new n.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{n.closeStream(e.fd)}e.fd=null},isClosed(e){return e.fd===null},llseek(e,t,s){if(n.isClosed(e))throw new n.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new n.ErrnoError(70);if(s!=0&&s!=1&&s!=2)throw new n.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,s),e.ungotten=[],e.position},read(e,t,s,o,i){if(o<0||i<0)throw new n.ErrnoError(28);if(n.isClosed(e))throw new n.ErrnoError(8);if((e.flags&2097155)===1)throw new n.ErrnoError(8);if(n.isDir(e.node.mode))throw new n.ErrnoError(31);if(!e.stream_ops.read)throw new n.ErrnoError(28);var a,r=typeof i!="undefined";if(r){if(!e.seekable)throw new n.ErrnoError(70)}else i=e.position;return a=e.stream_ops.read(e,t,s,o,i),r||(e.position+=a),a},write(e,t,s,o,i,a){if(o<0||i<0)throw new n.ErrnoError(28);if(n.isClosed(e))throw new n.ErrnoError(8);if((e.flags&2097155)===0)throw new n.ErrnoError(8);if(n.isDir(e.node.mode))throw new n.ErrnoError(31);if(!e.stream_ops.write)throw new n.ErrnoError(28);e.seekable&&e.flags&1024&&n.llseek(e,0,2);var r,c=typeof i!="undefined";if(c){if(!e.seekable)throw new n.ErrnoError(70)}else i=e.position;return r=e.stream_ops.write(e,t,s,o,i,a),c||(e.position+=r),r},allocate(e,t,s){if(n.isClosed(e))throw new n.ErrnoError(8);if(t<0||s<=0)throw new n.ErrnoError(28);if((e.flags&2097155)===0)throw new n.ErrnoError(8);if(!n.isFile(e.node.mode)&&!n.isDir(e.node.mode))throw new n.ErrnoError(43);if(!e.stream_ops.allocate)throw new n.ErrnoError(138);e.stream_ops.allocate(e,t,s)},mmap(e,t,s,o,i){if((o&2)!==0&&(i&2)===0&&(e.flags&2097155)!==2)throw new n.ErrnoError(2);if((e.flags&2097155)===1)throw new n.ErrnoError(2);if(!e.stream_ops.mmap)throw new n.ErrnoError(43);return e.stream_ops.mmap(e,t,s,o,i)},msync(e,t,n,s,o){return e.stream_ops.msync?e.stream_ops.msync(e,t,n,s,o):0},ioctl(e,t,s){if(!e.stream_ops.ioctl)throw new n.ErrnoError(59);return e.stream_ops.ioctl(e,t,s)},readFile(e,t={}){if(t.flags=t.flags||0,t.encoding=t.encoding||"binary",t.encoding!=="utf8"&&t.encoding!=="binary")throw new Error(`Invalid encoding type "${t.encoding}"`);var s,i=n.open(e,t.flags),r=n.stat(e),a=r.size,o=new Uint8Array(a);return n.read(i,o,0,a,0),t.encoding==="utf8"?s=V(o,0):t.encoding==="binary"&&(s=o),n.close(i),s},writeFile(e,t,s={}){s.flags=s.flags||577;var o,a,i=n.open(e,s.flags,s.mode);if(typeof t=="string")o=new Uint8Array(ue(t)+1),a=ht(t,o,0,o.length),n.write(i,o,0,a,void 0,s.canOwn);else if(ArrayBuffer.isView(t))n.write(i,t,0,t.byteLength,void 0,s.canOwn);else throw new Error("Unsupported data type");n.close(i)},cwd:()=>n.currentPath,chdir(e){var s,t=n.lookupPath(e,{follow:!0});if(t.node===null)throw new n.ErrnoError(44);if(!n.isDir(t.node.mode))throw new n.ErrnoError(54);if(s=n.nodePermissions(t.node,"x"),s)throw new n.ErrnoError(s);n.currentPath=t.path},createDefaultDirectories(){n.mkdir("/tmp"),n.mkdir("/home"),n.mkdir("/home/web_user")},createDefaultDevices(){n.mkdir("/dev"),n.registerDevice(n.makedev(1,3),{read:()=>0,write:(e,t,n,s)=>s}),n.mkdev("/dev/null",n.makedev(1,3)),L.register(n.makedev(5,0),L.default_tty_ops),L.register(n.makedev(6,0),L.default_tty1_ops),n.mkdev("/dev/tty",n.makedev(5,0)),n.mkdev("/dev/tty1",n.makedev(6,0));var t=new Uint8Array(1024),e=0,s=()=>(e===0&&(e=Lt(t).byteLength),t[--e]);n.createDevice("/dev","random",s),n.createDevice("/dev","urandom",s),n.mkdir("/dev/shm"),n.mkdir("/dev/shm/tmp")},createSpecialDirectories(){n.mkdir("/proc");var e=n.mkdir("/proc/self");n.mkdir("/proc/self/fd"),n.mount({mount(){var t=n.createNode(e,"fd",16384|511,73);return t.node_ops={lookup(e,t){var o=+t,i=n.getStreamChecked(o),s={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>i.path}};return s.parent=s,s}},t}},{},"/proc/self/fd")},createStandardStreams(){s.stdin?n.createDevice("/dev","stdin",s.stdin):n.symlink("/dev/tty","/dev/stdin"),s.stdout?n.createDevice("/dev","stdout",null,s.stdout):n.symlink("/dev/tty","/dev/stdout"),s.stderr?n.createDevice("/dev","stderr",null,s.stderr):n.symlink("/dev/tty1","/dev/stderr");var e=n.open("/dev/stdin",0),t=n.open("/dev/stdout",1),o=n.open("/dev/stderr",1)},staticInit(){[44].forEach(e=>{n.genericErrors[e]=new n.ErrnoError(e),n.genericErrors[e].stack="<generic error, no stack>"}),n.nameTable=new Array(4096),n.mount(c,{},"/"),n.createDefaultDirectories(),n.createDefaultDevices(),n.createSpecialDirectories(),n.filesystems={MEMFS:c}},init(e,t,o){n.init.initialized=!0,s.stdin=e||s.stdin,s.stdout=t||s.stdout,s.stderr=o||s.stderr,n.createStandardStreams()},quit(){n.init.initialized=!1;for(var t,e=0;e<n.streams.length;e++){if(t=n.streams[e],!t)continue;n.close(t)}},findObject(e,t){var s=n.analyzePath(e,t);return s.exists?s.object:null},analyzePath(e,t){try{var s,o=n.lookupPath(e,{follow:!t});e=o.path}catch{}s={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{o=n.lookupPath(e,{parent:!0}),s.parentExists=!0,s.parentPath=o.path,s.parentObject=o.node,s.name=m.basename(e),o=n.lookupPath(e,{follow:!t}),s.exists=!0,s.path=o.path,s.object=o.node,s.name=o.node.name,s.isRoot=o.path==="/"}catch(e){s.error=e.errno}return s},createPath(e,t){e=typeof e=="string"?e:n.getPath(e);for(var i,a,r=t.split("/").reverse();r.length;){if(a=r.pop(),!a)continue;i=m.join2(e,a);try{n.mkdir(i)}catch{}e=i}return i},createFile(e,t,s,o,i){var a=m.join2(typeof e=="string"?e:n.getPath(e),t),r=st(o,i);return n.create(a,r)},createDataFile(e,t,s,o,i,a){if(d=t,e&&(e=typeof e=="string"?e:n.getPath(e),d=t?m.join2(e,t):e),r=st(o,i),c=n.create(d,r),s){if(typeof s=="string"){for(var r,c,d,u,h=new Array(s.length),l=0,f=s.length;l<f;++l)h[l]=s.charCodeAt(l);s=h}n.chmod(c,r|146),u=n.open(c,577),n.write(u,s,0,s.length,0,a),n.close(u),n.chmod(c,r)}},createDevice(e,t,s,o){var i,a=m.join2(typeof e=="string"?e:n.getPath(e),t),r=st(!!s,!!o);return n.createDevice.major||(n.createDevice.major=64),i=n.makedev(n.createDevice.major++,0),n.registerDevice(i,{open(e){e.seekable=!1},close(){o?.buffer?.length&&o(10)},read(e,t,o,i){for(var r,c=0,l=0;l<i;l++){try{r=s()}catch{throw new n.ErrnoError(29)}if(r===void 0&&c===0)throw new n.ErrnoError(6);if(r==null)break;c++,t[o+l]=r}return c&&(e.node.timestamp=Date.now()),c},write(e,t,s,i){for(var r=0;r<i;r++)try{o(t[s+r])}catch{throw new n.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),r}}),n.mkdev(a,r,i)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest!="undefined")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(je)try{e.contents=mt(je(e.url),!0),e.usedBytes=e.contents.length}catch{throw new n.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile(e,t,s,o,i){class u{constructor(){this.lengthKnown=!1,this.chunks=[]}get(e){if(e>this.length-1||e<0)return void 0;var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}setDataGetter(e){this.getter=e}cacheLength(){var e,n,o,i,a,r,c,t=new XMLHttpRequest;if(t.open("HEAD",s,!1),t.send(null),!(t.status>=200&&t.status<300||t.status===304))throw new Error("Couldn't load "+s+". Status: "+t.status);e=Number(t.getResponseHeader("Content-length")),a=(i=t.getResponseHeader("Accept-Ranges"))&&i==="bytes",r=(i=t.getResponseHeader("Content-Encoding"))&&i==="gzip",n=1024*1024,a||(n=e),c=(t,o)=>{if(t>o)throw new Error("invalid range ("+t+", "+o+") or no bytes requested!");if(o>e-1)throw new Error("only "+e+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",s,!1),e!==n&&i.setRequestHeader("Range","bytes="+t+"-"+o),i.responseType="arraybuffer",i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||i.status===304))throw new Error("Couldn't load "+s+". Status: "+i.status);return i.response!==void 0?new Uint8Array(i.response||[]):mt(i.responseText||"",!0)},o=this,o.setDataGetter(t=>{var i=t*n,s=(t+1)*n-1,s=Math.min(s,e-1);if(typeof o.chunks[t]=="undefined"&&(o.chunks[t]=c(i,s)),typeof o.chunks[t]=="undefined")throw new Error("doXHR failed!");return o.chunks[t]}),(r||!e)&&(n=e=1,e=this.getter(0).length,n=e,ae("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=e,this._chunkSize=n,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest!="undefined"){if(!N)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a,c,l,h=new u,r={isDevice:!1,contents:h}}else r={isDevice:!1,url:s};a=n.createFile(e,t,r,o,i),r.contents?a.contents=r.contents:r.url&&(a.contents=null,a.url=r.url),Object.defineProperties(a,{usedBytes:{get:function(){return this.contents.length}}}),c={},l=Object.keys(a.stream_ops),l.forEach(e=>{var t=a.stream_ops[e];c[e]=(...e)=>(n.forceLoadFile(a),t(...e))});function d(e,t,n,s,o){var i,r,a=e.node.contents;if(o>=a.length)return 0;if(r=Math.min(a.length-o,s),a.slice)for(i=0;i<r;i++)t[n+i]=a[o+i];else for(i=0;i<r;i++)t[n+i]=a.get(o+i);return r}return c.read=(e,t,s,o,i)=>(n.forceLoadFile(a),d(e,t,s,o,i)),c.mmap=(e,t,s)=>{n.forceLoadFile(a);var r=Vt(t);if(!r)throw new n.ErrnoError(48);return d(e,w(),r,t,s),{ptr:r,allocated:!0}},a.stream_ops=c,a}},x={DEFAULT_POLLMASK:5,calculateAt(e,t,s){if(m.isAbs(t))return t;if(e===-100)o=n.cwd();else{var o,i=x.getStreamFromFD(e);o=i.path}if(t.length==0){if(!s)throw new n.ErrnoError(44);return o}return m.join2(o,t)},doStat(e,t,n){var o,i,r,s=e(t);return a()[n>>2]=s.dev,a()[n+4>>2]=s.mode,l()[n+8>>2]=s.nlink,a()[n+12>>2]=s.uid,a()[n+16>>2]=s.gid,a()[n+20>>2]=s.rdev,b=[s.size>>>0,(u=s.size,+Math.abs(u)>=1?u>0?+Math.floor(u/4294967296)>>>0:~~+Math.ceil((u-+(~~u>>>0))/4294967296)>>>0:0)],a()[n+24>>2]=b[0],a()[n+28>>2]=b[1],a()[n+32>>2]=4096,a()[n+36>>2]=s.blocks,o=s.atime.getTime(),i=s.mtime.getTime(),r=s.ctime.getTime(),b=[Math.floor(o/1e3)>>>0,(u=Math.floor(o/1e3),+Math.abs(u)>=1?u>0?+Math.floor(u/4294967296)>>>0:~~+Math.ceil((u-+(~~u>>>0))/4294967296)>>>0:0)],a()[n+40>>2]=b[0],a()[n+44>>2]=b[1],l()[n+48>>2]=o%1e3*1e3,b=[Math.floor(i/1e3)>>>0,(u=Math.floor(i/1e3),+Math.abs(u)>=1?u>0?+Math.floor(u/4294967296)>>>0:~~+Math.ceil((u-+(~~u>>>0))/4294967296)>>>0:0)],a()[n+56>>2]=b[0],a()[n+60>>2]=b[1],l()[n+64>>2]=i%1e3*1e3,b=[Math.floor(r/1e3)>>>0,(u=Math.floor(r/1e3),+Math.abs(u)>=1?u>0?+Math.floor(u/4294967296)>>>0:~~+Math.ceil((u-+(~~u>>>0))/4294967296)>>>0:0)],a()[n+72>>2]=b[0],a()[n+76>>2]=b[1],l()[n+80>>2]=r%1e3*1e3,b=[s.ino>>>0,(u=s.ino,+Math.abs(u)>=1?u>0?+Math.floor(u/4294967296)>>>0:~~+Math.ceil((u-+(~~u>>>0))/4294967296)>>>0:0)],a()[n+88>>2]=b[0],a()[n+92>>2]=b[1],0},doMsync(e,t,s,o,i){if(!n.isFile(t.node.mode))throw new n.ErrnoError(43);if(o&2)return 0;var a=E().slice(e,e+s);n.msync(t,a,i,s,o)},getStreamFromFD(e){var t=n.getStreamChecked(e);return t},varargs:void 0,getStr(e){var t=X(e);return t}};function vi(e,t,s){if(f)return C(3,0,1,e,t,s);x.varargs=s;try{var o,a,r,i=x.getStreamFromFD(e);switch(t){case 0:{if(o=Ye(),o<0)return-28;for(;n.streams[o];)o++;return a=n.dupStream(i,o),a.fd}case 1:case 2:return 0;case 3:return i.flags;case 4:return o=Ye(),i.flags|=o,0;case 12:return o=W(),r=0,q()[o+r>>1]=2,0;case 13:case 14:return 0}return-28}catch(e){if(typeof n=="undefined"||e.name!=="ErrnoError")throw e;return-e.errno}}function si(e,t,s){if(f)return C(4,0,1,e,t,s);x.varargs=s;try{var i,r,c,l,d,u,h,m,p,o=x.getStreamFromFD(e);switch(t){case 21509:return o.tty?0:-59;case 21505:{if(!o.tty)return-59;if(o.tty.ops.ioctl_tcgets){c=o.tty.ops.ioctl_tcgets(o),i=W(),a()[i>>2]=c.c_iflag||0,a()[i+4>>2]=c.c_oflag||0,a()[i+8>>2]=c.c_cflag||0,a()[i+12>>2]=c.c_lflag||0;for(r=0;r<32;r++)w()[i+r+17]=c.c_cc[r]||0;return 0}return 0}case 21510:case 21511:case 21512:return o.tty?0:-59;case 21506:case 21507:case 21508:{if(!o.tty)return-59;if(o.tty.ops.ioctl_tcsets){for(i=W(),u=a()[i>>2],h=a()[i+4>>2],m=a()[i+8>>2],p=a()[i+12>>2],l=[],r=0;r<32;r++)l.push(w()[i+r+17]);return o.tty.ops.ioctl_tcsets(o.tty,t,{c_iflag:u,c_oflag:h,c_cflag:m,c_lflag:p,c_cc:l})}return 0}case 21519:return o.tty?(i=W(),a()[i>>2]=0,0):-59;case 21520:return o.tty?-28:-59;case 21531:return i=W(),n.ioctl(o,t,i);case 21523:return o.tty?(o.tty.ops.ioctl_tiocgwinsz&&(d=o.tty.ops.ioctl_tiocgwinsz(o.tty),i=W(),q()[i>>1]=d[0],q()[i+2>>1]=d[1]),0):-59;case 21524:return o.tty?0:-59;case 21515:return o.tty?0:-59;default:return-28}}catch(e){if(typeof n=="undefined"||e.name!=="ErrnoError")throw e;return-e.errno}}function ni(e,t,s,o){if(f)return C(5,0,1,e,t,s,o);x.varargs=o;try{t=x.getStr(t),t=x.calculateAt(e,t);var i=o?Ye():0;return n.open(t,s,i).fd}catch(e){if(typeof n=="undefined"||e.name!=="ErrnoError")throw e;return-e.errno}}qo=()=>{Ze("")},be={},ne=e=>{for(;e.length;){var n=e.pop(),t=e.pop();t(n)}};function oe(e){return this.fromWireType(l()[e>>2])}$={},R={},Oe={},xe=e=>{throw new bo(e)},O=(e,t,n)=>{e.forEach(function(e){Oe[e]=t});function i(t){var s,o=n(t);o.length!==e.length&&xe("Mismatched type converter count");for(s=0;s<e.length;++s)D(e[s],o[s])}var s=new Array(t.length),o=[],a=0;t.forEach((e,t)=>{R.hasOwnProperty(e)?s[t]=R[e]:(o.push(e),$.hasOwnProperty(e)||($[e]=[]),$[e].push(()=>{s[t]=R[e],++a,a===o.length&&i(s)}))}),0===o.length&&i(s)},qs=e=>{var t,n,o,i,a,s=be[e];delete be[e],t=s.elements,n=t.length,i=t.map(e=>e.getterReturnType).concat(t.map(e=>e.setterArgumentType)),a=s.rawConstructor,o=s.rawDestructor,O([e],i,e=>(t.forEach((t,s)=>{var o=e[s],i=t.getter,a=t.getterContext,r=e[s+n],c=t.setter,l=t.setterContext;t.read=e=>o.fromWireType(i(a,e)),t.write=(e,t)=>{var n=[];c(l,e,r.toWireType(n,t)),ne(n)}}),[{name:s.name,fromWireType:e=>{for(var i=new Array(n),s=0;s<n;++s)i[s]=t[s].read(e);return o(e),i},toWireType:(e,i)=>{if(n!==i.length)throw new TypeError(`Incorrect number of tuple elements for ${s.name}: expected=${n}, actual=${i.length}`);for(var c=a(),r=0;r<n;++r)t[r].write(c,i[r]);return e!==null&&e.push(o,c),c},argPackAdvance:S,readValueFromPointer:oe,destructorFunction:o}]))},Ee={},Vs=e=>{var t,s,o,i,n=Ee[e];delete Ee[e],o=n.rawConstructor,s=n.rawDestructor,t=n.fields,i=t.map(e=>e.getterReturnType).concat(t.map(e=>e.setterArgumentType)),O([e],i,e=>{var i={};return t.forEach((n,s)=>{var o=n.fieldName,a=e[s],r=n.getter,c=n.getterContext,l=e[s+t.length],d=n.setter,u=n.setterContext;i[o]={read:e=>a.fromWireType(r(c,e)),write:(e,t)=>{var n=[];d(u,e,l.toWireType(n,t)),ne(n)}}}),[{name:n.name,fromWireType:e=>{var n,t={};for(n in i)t[n]=i[n].read(e);return s(e),t},toWireType:(e,t)=>{for(n in i)if(!(n in t))throw new TypeError(`Missing field: "${n}"`);var n,a=o();for(n in i)i[n].write(a,t[n]);return e!==null&&e.push(s,a),a},argPackAdvance:S,readValueFromPointer:oe,destructorFunction:s}]})},ks=()=>{},_s=()=>{for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);gs=t},v=e=>{for(var t="",n=e;E()[n];)t+=gs[E()[n++]];return t},d=e=>{throw new Y(e)};function Si(e,t,n={}){var o,s=t.name;if(e||d(`type "${s}" must have a positive integer typeid pointer`),R.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;d(`Cannot register type '${s}' twice`)}R[e]=t,delete Oe[e],$.hasOwnProperty(e)&&(o=$[e],delete $[e],o.forEach(e=>e()))}function D(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Si(e,t,n)}S=8,Fn=(e,t,n,s)=>{t=v(t),D(e,{name:t,fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:s},argPackAdvance:S,readValueFromPointer:function(e){return this.fromWireType(E()[e])},destructorFunction:null})},An=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),He=e=>{function t(e){return e.$$.ptrType.registeredClass.name}d(t(e)+" instance already deleted")},Ie=!1,xt=e=>{},Sn=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},Ot=e=>{e.count.value-=1;var t=0===e.count.value;t&&Sn(e)},xn=(e,t,n)=>{if(t===n)return e;if(void 0===n.baseClass)return null;var s=xn(e,t,n.baseClass);return s===null?null:n.downcast(s)},On={},zn=()=>Object.keys(J).length,Dn=()=>{var t,e=[];for(t in J)J.hasOwnProperty(t)&&e.push(J[t]);return e},G=[],qe=()=>{for(;G.length;){var e=G.pop();e.$$.deleteScheduled=!1,e.delete()}},Pn=e=>{ye=e,G.length&&ye&&ye(qe)},Hn=()=>{s.getInheritedInstanceCount=zn,s.getLiveInheritedInstances=Dn,s.flushPendingDeletes=qe,s.setDelayFunction=Pn},J={},Bn=(e,t)=>{for(t===void 0&&d("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},Vn=(e,t)=>(t=Bn(e,t),J[t]),he=(e,t)=>{(!t.ptrType||!t.ptr)&&xe("makeClassHandle requires ptr and ptrType");var n=!!t.smartPtrType,s=!!t.smartPtr;return n!==s&&xe("Both smartPtrType and smartPtr must be specified"),t.count={value:1},se(Object.create(e,{$$:{value:t,writable:!0}}))};function Ki(e){var t,n,o,i,a,c,s=this.getPointee(e);if(!s)return this.destructor(e),null;if(t=Vn(this.registeredClass,s),void 0!==t)return 0===t.$$.count.value?(t.$$.ptr=s,t.$$.smartPtr=e,t.clone()):(a=t.clone(),this.destructor(e),a);function r(){return this.isSmartPointer?he(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:s,smartPtrType:this,smartPtr:e}):he(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}return c=this.registeredClass.getActualType(s),o=On[c],o?(this.isConst?n=o.constPointerType:n=o.pointerType,i=xn(s,this.registeredClass,n.registeredClass),i===null?r.call(this):this.isSmartPointer?he(n.registeredClass.instancePrototype,{ptrType:n,ptr:i,smartPtrType:this,smartPtr:e}):he(n.registeredClass.instancePrototype,{ptrType:n,ptr:i})):r.call(this)}se=e=>"undefined"==typeof FinalizationRegistry?(se=e=>e,e):(Ie=new FinalizationRegistry(e=>{Ot(e.$$)}),se=e=>{var n,t=e.$$,s=!!t.smartPtr;return s&&(n={$$:t},Ie.register(e,n,e)),e},xt=e=>Ie.unregister(e),se(e)),Kn=()=>{Object.assign(pt.prototype,{isAliasOf(e){if(!(this instanceof pt))return!1;if(!(e instanceof pt))return!1;var t,s,n=this.$$.ptrType.registeredClass,o=this.$$.ptr;for(e.$$=e.$$,t=e.$$.ptrType.registeredClass,s=e.$$.ptr;n.baseClass;)o=n.upcast(o),n=n.baseClass;for(;t.baseClass;)s=t.upcast(s),t=t.baseClass;return n===t&&o===s},clone(){if(this.$$.ptr||He(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=se(Object.create(Object.getPrototypeOf(this),{$$:{value:An(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||He(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&d("Object already scheduled for deletion"),xt(this),Ot(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||He(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&d("Object already scheduled for deletion"),G.push(this),G.length===1&&ye&&ye(qe),this.$$.deleteScheduled=!0,this}})};function pt(){}te=(e,t)=>Object.defineProperty(t,"name",{value:e}),yt=(e,t,n)=>{if(void 0===e[t].overloadTable){var s=e[t];e[t]=function(...s){return e[t].overloadTable.hasOwnProperty(s.length)||d(`Function '${n}' called with an invalid number of arguments (${s.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[s.length].apply(this,s)},e[t].overloadTable=[],e[t].overloadTable[s.argCount]=s}},_n=(e,t,n)=>{s.hasOwnProperty(e)?((void 0===n||void 0!==s[e].overloadTable&&void 0!==s[e].overloadTable[n])&&d(`Cannot register public name '${e}' twice`),yt(s,e,e),s.hasOwnProperty(n)&&d(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`),s[e].overloadTable[n]=t):(s[e]=t,void 0!==n&&(s[e].numArguments=n))},Qn=48,Zn=57,Jn=e=>{if(void 0===e)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=Qn&&t<=Zn?`_${e}`:e};function Vi(e,t,n,s,o,i,a,r){this.name=e,this.constructor=t,this.instancePrototype=n,this.rawDestructor=s,this.baseClass=o,this.getActualType=i,this.upcast=a,this.downcast=r,this.pureVirtualFunctions=[]}Ce=(e,t,n)=>{for(;t!==n;)t.upcast||d(`Expected null or instance of ${n.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function Ii(e,t){if(t===null)return this.isReference&&d(`null is not a valid ${this.name}`),0;t.$$||d(`Cannot pass "${Ue(t)}" as a ${this.name}`),t.$$.ptr||d(`Cannot pass deleted object as a pointer of type ${this.name}`);var n=t.$$.ptrType.registeredClass,s=Ce(t.$$.ptr,n,this.registeredClass);return s}function Hi(e,t){if(t===null)return this.isReference&&d(`null is not a valid ${this.name}`),this.isSmartPointer?(n=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,n),n):0;(!t||!t.$$)&&d(`Cannot pass "${Ue(t)}" as a ${this.name}`),t.$$.ptr||d(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&d(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var s,o=t.$$.ptrType.registeredClass,n=Ce(t.$$.ptr,o,this.registeredClass);if(this.isSmartPointer)switch(void 0===t.$$.smartPtr&&d("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?n=t.$$.smartPtr:d(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:n=t.$$.smartPtr;break;case 2:t.$$.smartPtrType===this?n=t.$$.smartPtr:(s=t.clone(),n=this.rawShare(n,j.toHandle(()=>s.delete())),e!==null&&e.push(this.rawDestructor,n));break;default:d("Unsupporting sharing policy")}return n}function Pi(e,t){if(t===null)return this.isReference&&d(`null is not a valid ${this.name}`),0;t.$$||d(`Cannot pass "${Ue(t)}" as a ${this.name}`),t.$$.ptr||d(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&d(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass,s=Ce(t.$$.ptr,n,this.registeredClass);return s}is=()=>{Object.assign(le.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},argPackAdvance:S,readValueFromPointer:oe,fromWireType:Ki})};function le(e,t,n,s,o,i,a,r,c,l,d){this.name=e,this.registeredClass=t,this.isReference=n,this.isConst=s,this.isSmartPointer=o,this.pointeeType=i,this.sharingPolicy=a,this.rawGetPointee=r,this.rawConstructor=c,this.rawShare=l,this.rawDestructor=d,!o&&t.baseClass===void 0?s?(this.toWireType=Ii,this.destructorFunction=null):(this.toWireType=Pi,this.destructorFunction=null):this.toWireType=Hi}yn=(e,t,n)=>{s.hasOwnProperty(e)||xe("Replacing nonexistent public symbol"),void 0!==s[e].overloadTable&&void 0!==n?s[e].overloadTable[n]=t:(s[e]=t,s[e].argCount=n)},ls=(e,t,n)=>{e=e.replace(/p/g,"i");var o=s["dynCall_"+e];return o(t,...n)},ds=(e,t,n=[])=>{if(e.includes("j"))return ls(e,t,n);var s=wt(t)(...n);return s},us=(e,t)=>(...n)=>ds(e,t,n),p=(e,t)=>{e=v(e);function s(){return e.includes("j")?us(e,t):wt(t)}var n=s();return typeof n!="function"&&d(`unknown function pointer with signature ${e}: ${t}`),n},ms=(e,t)=>{var n=te(t,function(e){this.name=t,this.message=e;var n=new Error(e).stack;n!==void 0&&(this.stack=this.toString()+`
`+n.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},n},bn=e=>{var t=Qt(e),n=v(t);return A(t),n},H=(e,t)=>{var n=[],s={};function o(e){if(s[e])return;if(R[e])return;if(Oe[e]){Oe[e].forEach(o);return}n.push(e),s[e]=!0}throw t.forEach(o),new fs(`${e}: `+n.map(bn).join([", "]))},vs=(e,t,n,s,o,i,a,r,c,l,d,u,h)=>{d=v(d),i=p(o,i),r&&=p(a,r),l&&=p(c,l),h=p(u,h);var m=Jn(d);_n(m,function(){H(`Cannot construct ${d} due to unbound types`,[s])}),O([e,t,n],s?[s]:[],t=>{t=t[0],s?(a=t.registeredClass,c=a.instancePrototype):c=pt.prototype;var n,a,c,f,p,g,o=te(d,function(...e){if(Object.getPrototypeOf(this)!==u)throw new Y("Use 'new' to construct "+d);if(void 0===n.constructor_body)throw new Y(d+" has no accessible constructor");var t=n.constructor_body[e.length];if(void 0===t)throw new Y(`Tried to invoke ctor of ${d} with invalid number of parameters (${e.length}) - expected (${Object.keys(n.constructor_body).toString()}) parameters instead!`);return t.apply(this,e)}),u=Object.create(c,{constructor:{value:o}});return o.prototype=u,n=new Vi(d,o,u,h,a,i,r,l),n.baseClass&&(n.baseClass.__derivedClasses??=[],n.baseClass.__derivedClasses.push(n)),g=new le(d,n,!0,!1,!1),f=new le(d+"*",n,!1,!1,!1),p=new le(d+" const*",n,!1,!0,!1),On[e]={pointerType:f,constPointerType:p},yn(m,o),[g,f,p]})};function bs(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].destructorFunction===void 0)return!0;return!1}function js(e,t){if(!(e instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var n,s,o=te(e.name||"unknownFunctionName",function(){});return o.prototype=e.prototype,n=new o,s=e.apply(n,t),s instanceof Object?s:n}function Li(e,t,n,s){for(var i,c,l,u,d=bs(e),r=e.length,h="",a="",o=0;o<r-2;++o)h+=(o!==0?", ":"")+"arg"+o,a+=(o!==0?", ":"")+"arg"+o+"Wired";i=`
        return function (${h}) {
        if (arguments.length !== ${r-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${r-2}');
        }`,d&&(i+=`var destructors = [];
`),u=d?"destructors":"null",c=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"],t&&(i+="var thisWired = classParam['toWireType']("+u+`, this);
`);for(o=0;o<r-2;++o)i+="var arg"+o+"Wired = argType"+o+"['toWireType']("+u+", arg"+o+`);
`,c.push("argType"+o);if(t&&(a="thisWired"+(a.length>0?", ":"")+a),i+=(n||s?"var rv = ":"")+"invoker(fn"+(a.length>0?", ":"")+a+`);
`,d)i+=`runDestructors(destructors);
`;else for(o=t?1:2;o<e.length;++o)l=o===1?"thisWired":"arg"+(o-2)+"Wired",e[o].destructorFunction!==null&&(i+=`${l}_dtor(${l});
`,c.push(`${l}_dtor`));return n&&(i+=`var ret = retType['fromWireType'](rv);
return ret;
`),i+=`}
`,[c,i]}function ut(e,t,n,s,o,i){var a,r,c,u,h,f,l=t.length;l<2&&d("argTypes array size mismatch! Must at least get return value and 'this' types!");for(c=t[1]!==null&&n!==null,u=bs(t),h=t[0].name!=="void",r=[e,d,s,o,ne,t[0],t[1]],a=0;a<l-2;++a)r.push(t[a+2]);if(!u)for(a=c?1:2;a<t.length;++a)t[a].destructorFunction!==null&&r.push(t[a].destructorFunction);let[m,p]=Li(t,c,h,i);return m.push(p),f=js(Function,m)(...r),te(e,f)}me=(e,t)=>{for(var s=[],n=0;n<e;n++)s.push(l()[t+n*4>>2]);return s},ot=e=>{e=e.trim();const t=e.indexOf("(");return t!==-1?e.substr(0,t):e},xs=(e,t,n,s,o,i,a,r)=>{var c=me(n,s);t=v(t),t=ot(t),i=p(o,i),O([],[e],e=>{e=e[0];var s,o=`${e.name}.${t}`;function l(){H(`Cannot call ${o} due to unbound types`,c)}return t.startsWith("@@")&&(t=Symbol[t.substring(2)]),s=e.registeredClass.constructor,void 0===s[t]?(l.argCount=n-1,s[t]=l):(yt(s,t,o),s[t].overloadTable[n-1]=l),O([],c,c=>{var d=[c[0],null].concat(c.slice(1)),l=ut(o,d,null,i,a,r);if(void 0===s[t].overloadTable?(l.argCount=n-1,s[t]=l):s[t].overloadTable[n-1]=l,e.registeredClass.__derivedClasses)for(const n of e.registeredClass.__derivedClasses)n.constructor.hasOwnProperty(t)||(n.constructor[t]=l);return[]}),[]})},Cs=(e,t,n,s,o,i)=>{var a=me(t,n);o=p(s,o),O([],[e],e=>{e=e[0];var n=`constructor ${e.name}`;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new Y(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${e.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return e.registeredClass.constructor_body[t-1]=()=>{H(`Cannot construct ${e.name} due to unbound types`,a)},O([],a,s=>(s.splice(1,0,null),e.registeredClass.constructor_body[t-1]=ut(n,s,null,o,i),[])),[]})},Es=(e,t,n,s,o,i,a,r,c)=>{var l=me(n,s);t=v(t),t=ot(t),i=p(o,i),O([],[e],e=>{e=e[0];var s,o,u=`${e.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),r&&e.registeredClass.pureVirtualFunctions.push(t);function d(){H(`Cannot call ${u} due to unbound types`,l)}return s=e.registeredClass.instancePrototype,o=s[t],void 0===o||void 0===o.overloadTable&&o.className!==e.name&&o.argCount===n-2?(d.argCount=n-2,d.className=e.name,s[t]=d):(yt(s,t,u),s[t].overloadTable[n-2]=d),O([],l,o=>{var r=ut(u,o,e,i,a,c);return void 0===s[t].overloadTable?(r.argCount=n-2,s[t]=r):s[t].overloadTable[n-2]=r,[]}),[]})},pn=(e,t,n)=>(e instanceof Object||d(`${n} with invalid "this": ${e}`),e instanceof t.registeredClass.constructor||d(`${n} incompatible with "this" of type ${e.constructor.name}`),e.$$.ptr||d(`cannot call emscripten binding method ${n} on deleted object`),Ce(e.$$.ptr,e.$$.ptrType.registeredClass,t.registeredClass)),As=(e,t,n,s,o,i,a,r,c,l)=>{t=v(t),o=p(s,o),O([],[e],e=>{e=e[0];var s=`${e.name}.${t}`,u={get(){H(`Cannot access ${s} due to unbound types`,[n,a])},enumerable:!0,configurable:!0};return c?u.set=()=>H(`Cannot access ${s} due to unbound types`,[n,a]):u.set=e=>d(s+" is a read-only property"),Object.defineProperty(e.registeredClass.instancePrototype,t,u),O([],c?[n,a]:[n],n=>{var d,u=n[0],a={get(){var t=pn(this,e,s+" getter");return u.fromWireType(o(i,t))},enumerable:!0};return c&&(c=p(r,c),d=n[1],a.set=function(t){var o=pn(this,e,s+" setter"),n=[];c(l,o,d.toWireType(n,t)),ne(n)}),Object.defineProperty(e.registeredClass.instancePrototype,t,a),[]}),[]})},Ss=(e,t,n)=>{e=v(e),O([],[t],t=>(t=t[0],s[e]=t.fromWireType(n),[]))},et=[],z=[],Fe=e=>{e>9&&0===--z[e+1]&&(z[e]=void 0,et.push(e))},zs=()=>z.length/2-5-et.length,Ds=()=>{z.push(0,1,void 0,1,null,1,!0,1,!1,1),s.count_emval_handles=zs},j={toValue:e=>(e||d("Cannot use deleted val. handle = "+e),z[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=et.pop()||z.length;return z[t]=e,z[t+1]=1,t}}}},Ls={name:"emscripten::val",fromWireType:e=>{var t=j.toValue(e);return Fe(e),t},toWireType:(e,t)=>j.toHandle(t),argPackAdvance:S,readValueFromPointer:oe,destructorFunction:null},Rs=e=>D(e,Ls),Ue=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},Hs=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(ea()[e>>2])};case 8:return function(e){return this.fromWireType(Et()[e>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},Is=(e,t,n)=>{t=v(t),D(e,{name:t,fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:S,readValueFromPointer:Hs(t,n),destructorFunction:null})},Bs=(e,t,n,s,o,i,a)=>{var r=me(t,n);e=v(e),e=ot(e),o=p(s,o),_n(e,function(){H(`Cannot call ${e} due to unbound types`,r)},t-1),O([],r,n=>{var s=[n[0],null].concat(n.slice(1));return yn(e,ut(e,s,null,o,i,a),t-1),[]})},Cn=(e,t,n)=>{switch(t){case 1:return n?e=>w()[e]:e=>E()[e];case 2:return n?e=>q()[e>>1]:e=>Ct()[e>>1];case 4:return n?e=>a()[e>>2]:e=>l()[e>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},$s=(e,t,n,s,o)=>{t=v(t),o===-1&&(o=4294967295);var i,a,r,l,c=e=>e;s===0&&(i=32-8*n,c=e=>e<<i>>>i),l=t.includes("unsigned"),a=()=>{},l?r=function(e,t){return a(t,this.name),t>>>0}:r=function(e,t){return a(t,this.name),t},D(e,{name:t,fromWireType:c,toWireType:r,argPackAdvance:S,readValueFromPointer:Cn(t,n,s!==0),destructorFunction:null})},Ws=(e,t,n)=>{var o=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],i=o[t];function s(e){var t=l()[e>>2],n=l()[e+4>>2];return new i(w().buffer,n,t)}n=v(n),D(e,{name:n,fromWireType:s,argPackAdvance:S,readValueFromPointer:s},{ignoreDuplicateRegistrations:!0})},Us=(e,t,n,s,o,i,a,r,c,l,d,u)=>{n=v(n),i=p(o,i),r=p(a,r),l=p(c,l),u=p(d,u),O([e],[t],e=>{e=e[0];var t=new le(n,e.registeredClass,!1,!1,!0,e,s,i,r,l,u);return[t]})},Ks=(e,t)=>{t=v(t);var n=t==="std::string";D(e,{name:t,fromWireType(e){var t,s,i,a,c,d,u,o=l()[e>>2],r=e+4;if(n)for(i=r,t=0;t<=o;++t)a=r+t,(t==o||E()[a]==0)&&(u=a-i,c=X(i,u),s===void 0?s=c:(s+=String.fromCharCode(0),s+=c),i=a+1);else{for(d=new Array(o),t=0;t<o;++t)d[t]=String.fromCharCode(E()[r+t]);s=d.join("")}return A(e),s},toWireType(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var s,o,i,a,c,r=typeof t=="string";if(r||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||d("Cannot pass non-string to std::string"),n&&r?o=ue(t):o=t.length,i=Ge(4+o+1),a=i+4,l()[i>>2]=o,n&&r)Ht(t,a,o+1);else if(r)for(s=0;s<o;++s)c=t.charCodeAt(s),c>255&&(A(a),d("String has UTF-16 code units that do not fit in 8 bits")),E()[a+s]=c;else for(s=0;s<o;++s)E()[a+s]=t[s];return e!==null&&e.push(A,i),i},argPackAdvance:S,readValueFromPointer:oe,destructorFunction(e){A(e)}})},hn=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):void 0,Ys=(e,t)=>{for(var o,i,a,s=e,n=s>>1,r=n+t/2;!(n>=r)&&Ct()[n];)++n;if(s=n<<1,s-e>32&&hn)return hn.decode(E().slice(e,s));for(i="",o=0;!(o>=t/2);++o){if(a=q()[e+o*2>>1],a==0)break;i+=String.fromCharCode(a)}return i},Gs=(e,t,n)=>{if(n??=2147483647,n<2)return 0;n-=2;for(var o,i=t,a=n<e.length*2?n/2:e.length,s=0;s<a;++s)o=e.charCodeAt(s),q()[t>>1]=o,t+=2;return q()[t>>1]=0,t-i},Xs=e=>e.length*2,Qs=(e,t)=>{for(var n,i,s=0,o="";!(s>=t/4);){if(n=a()[e+s*4>>2],n==0)break;++s,n>=65536?(i=n-65536,o+=String.fromCharCode(55296|i>>10,56320|i&1023)):o+=String.fromCharCode(n)}return o},Zs=(e,t,n)=>{if(n??=2147483647,n<4)return 0;for(var s,r,i=t,c=i+n-4,o=0;o<e.length;++o)if(s=e.charCodeAt(o),s>=55296&&s<=57343&&(r=e.charCodeAt(++o),s=65536+((s&1023)<<10)|r&1023),a()[t>>2]=s,t+=4,t+4>c)break;return a()[t>>2]=0,t-i},Js=e=>{for(var n,s=0,t=0;t<e.length;++t)n=e.charCodeAt(t),n>=55296&&n<=57343&&++t,s+=4;return s},eo=(e,t,n)=>{n=v(n);var s,o,i,a;t===2?(s=Ys,o=Gs,a=Xs,i=e=>Ct()[e>>1]):t===4&&(s=Qs,o=Zs,a=Js,i=e=>l()[e>>2]),D(e,{name:n,fromWireType:e=>{for(var n,a,c,u,d=l()[e>>2],r=e+4,o=0;o<=d;++o)a=e+4+o*t,(o==d||i(a)==0)&&(u=a-r,c=s(r,u),n===void 0?n=c:(n+=String.fromCharCode(0),n+=c),r=a+t);return A(e),n},toWireType:(e,s)=>{typeof s=="string"||d(`Cannot pass non-string to C++ string type ${n}`);var r=a(s),i=Ge(4+r+t);return l()[i>>2]=r/t,o(s,i+4,r+t),e!==null&&e.push(A,i),i},argPackAdvance:S,readValueFromPointer:oe,destructorFunction(e){A(e)}})},to=(e,t,n,s,o,i)=>{be[e]={name:v(t),rawConstructor:p(n,s),rawDestructor:p(o,i),elements:[]}},no=(e,t,n,s,o,i,a,r,c)=>{be[e].elements.push({getterReturnType:t,getter:p(n,s),getterContext:o,setterArgumentType:i,setter:p(a,r),setterContext:c})},so=(e,t,n,s,o,i)=>{Ee[e]={name:v(t),rawConstructor:p(n,s),rawDestructor:p(o,i),fields:[]}},oo=(e,t,n,s,o,i,a,r,c,l)=>{Ee[e].fields.push({fieldName:v(t),getterReturnType:n,getter:p(s,o),getterContext:i,setterArgumentType:a,setter:p(r,c),setterContext:l})},io=(e,t)=>{t=v(t),D(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},ao=1,ro=()=>ao,co=e=>{it(e,!N,1,!Oi,65536,!1),r.threadInitTLS()},De=e=>{if(typeof Atomics.waitAsync=="function"){var t,n=Atomics.waitAsync(a(),e>>2,e);n.value.then(Ae),t=e+128,Atomics.store(a(),t>>2,1)}},Ae=()=>{var e=I();e&&(De(e),pe(Pt))},ho=(e,t)=>{if(e==t)setTimeout(Ae);else if(f)postMessage({targetThread:e,cmd:"checkMailbox"});else{var s=r.pthreads[e];if(!s)return;s.postMessage({cmd:"checkMailbox"})}},ze=[],fo=(e,t,n,s,o)=>{ze.length=s;for(var a,c,l=o>>3,i=0;i<s;i++)ze[i]=Et()[l+i];return a=fi[e],r.currentProxiedOperationCallerThread=n,c=a(...ze),r.currentProxiedOperationCallerThread=0,c},po=e=>{f?postMessage({cmd:"cleanupThread",thread:e}):on(e)},En=e=>{y&&r.pthreads[e].ref()},Je=(e,t)=>{var n=R[e];return void 0===n&&d(`${t} has unknown type ${bn(e)}`),n},ln=(e,t,n)=>{var s=[],o=e.toWireType(s,n);return s.length&&(l()[t>>2]=j.toHandle(s)),o},jo=(e,t,n)=>(e=j.toValue(e),t=Je(t,"emval::as"),ln(t,n,e)),yo={},cn=e=>{var t=yo[e];return t===void 0?v(e):t},Te=[],Oo=(e,t,n,s,o)=>(e=Te[e],t=j.toValue(t),n=cn(n),e(t,t[n],s,o)),xo=e=>{var t=Te.length;return Te.push(e),t},Co=(e,t)=>{for(var s=new Array(e),n=0;n<e;++n)s[n]=Je(l()[t+n*4>>2],"parameter "+n);return s},Ti=Reflect.construct,ko=(e,t,n)=>{var s,o,i,r,c,l,u,h,m,a=Co(e,t),d=a.shift();e--,o=`return function (obj, func, destructorsRef, args) {
`,r=0,c=[],n===0&&c.push("obj");for(i=["retType"],l=[d],s=0;s<e;++s)c.push("arg"+s),i.push("argType"+s),l.push(a[s]),o+=`  var arg${s} = argType${s}.readValueFromPointer(args${r?"+"+r:""});
`,r+=a[s].argPackAdvance;return u=n===1?"new func":"func.call",o+=`  var rv = ${u}(${c.join(", ")});
`,d.isVoid||(i.push("emval_returnValue"),l.push(ln),o+=`  return emval_returnValue(retType, destructorsRef, rv);
`),o+=`};
`,i.push(o),h=js(Function,i)(...l),m=`methodCaller<(${a.map(e=>e.name).join(", ")}) => ${d.name}>`,xo(te(m,h))},Ao=(e,t)=>(e=j.toValue(e),t=j.toValue(t),j.toHandle(e[t])),So=e=>{e>9&&(z[e+1]+=1)},Mo=()=>j.toHandle([]),Fo=e=>j.toHandle(cn(e)),To=e=>{var t=j.toValue(e);ne(t),Fe(e)},zo=(e,t,n)=>{e=j.toValue(e),t=j.toValue(t),n=j.toValue(n),e[t]=n},Do=(e,t)=>{e=Je(e,"_emval_take_value");var n=e.readValueFromPointer(t);return j.toHandle(n)},No=()=>{},Lo=()=>{throw ke(),"unwind"},rn=()=>1073741824,Po=()=>rn(),Ho=()=>y?require("os").cpus().length:navigator.hardwareConcurrency,Io=e=>{var t=_.buffer,n=(e-t.byteLength+65535)/65536;try{return _.grow(n),M(),1}catch{}},Bo=e=>{var t,n,s,i,a,r,o=E().length;if(e>>>=0,e<=o)return!1;if(s=rn(),e>s)return!1;for(i=(e,t)=>e+(t-e%t)%t,t=1;t<=4;t*=2)if(n=o*(1+.2/t),n=Math.min(n,e+100663296),a=Math.min(s,i(Math.max(e,n),65536)),r=Io(a),r)return!0;return!1},Me={},$o=()=>tt||"./this.program",ie=()=>{if(!ie.strings){var e,n,s=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:s,_:$o()};for(e in Me)Me[e]===void 0?delete t[e]:t[e]=Me[e];n=[];for(e in t)n.push(`${e}=${t[e]}`);ie.strings=n}return ie.strings},Uo=(e,t)=>{for(var n=0;n<e.length;++n)w()[t++]=e.charCodeAt(n);w()[t]=0},nn=function(e,t){if(f)return C(6,0,1,e,t);var n=0;return ie().forEach((s,o)=>{var i=t+n;l()[e+o*4>>2]=i,Uo(s,i),n+=s.length+1}),0},tn=function(e,t){if(f)return C(7,0,1,e,t);var n,s=ie();return l()[e>>2]=s.length,n=0,s.forEach(e=>n+=e.length+1),l()[t>>2]=n,0};function Yo(e){if(f)return C(8,0,1,e);try{var t=x.getStreamFromFD(e);return n.close(t),0}catch(e){if(typeof n=="undefined"||e.name!=="ErrnoError")throw e;return e.errno}}Go=(e,t,s,o)=>{for(var i,a,d,r=0,c=0;c<s;c++){if(d=l()[t>>2],a=l()[t+4>>2],t+=8,i=n.read(e,w(),d,a,o),i<0)return-1;if(r+=i,i<a)break;typeof o!="undefined"&&(o+=i)}return r};function Xo(e,t,s,o){if(f)return C(9,0,1,e,t,s,o);try{var a=x.getStreamFromFD(e),i=Go(a,t,s);return l()[o>>2]=i,0}catch(e){if(typeof n=="undefined"||e.name!=="ErrnoError")throw e;return e.errno}}function Qo(e,t,s,o,i){if(f)return C(10,0,1,e,t,s,o,i);var r,c=_o(t,s);try{return isNaN(c)?61:(r=x.getStreamFromFD(e),n.llseek(r,c,o),b=[r.position>>>0,(u=r.position,+Math.abs(u)>=1?u>0?+Math.floor(u/4294967296)>>>0:~~+Math.ceil((u-+(~~u>>>0))/4294967296)>>>0:0)],a()[i>>2]=b[0],a()[i+4>>2]=b[1],r.getdents&&c===0&&o===0&&(r.getdents=null),0)}catch(e){if(typeof n=="undefined"||e.name!=="ErrnoError")throw e;return e.errno}}Zo=(e,t,s,o)=>{for(var i,c,d,a=0,r=0;r<s;r++){if(c=l()[t>>2],d=l()[t+4>>2],t+=8,i=n.write(e,w(),c,d,o),i<0)return-1;a+=i,typeof o!="undefined"&&(o+=i)}return a};function Jo(e,t,s,o){if(f)return C(11,0,1,e,t,s,o);try{var a=x.getStreamFromFD(e),i=Zo(a,t,s);return l()[o>>2]=i,0}catch(e){if(typeof n=="undefined"||e.name!=="ErrnoError")throw e;return e.errno}}_e=e=>e%4===0&&(e%100!==0||e%400===0),ti=(e,t)=>{for(var n=0,s=0;s<=t;n+=e[s++]);return n},en=[31,29,31,30,31,30,31,31,30,31,30,31],Jt=[31,28,31,30,31,30,31,31,30,31,30,31],oi=(e,t)=>{for(var s,o,i,n=new Date(e.getTime());t>0;)if(i=_e(n.getFullYear()),s=n.getMonth(),o=(i?en:Jt)[s],t>o-n.getDate())t-=o-n.getDate()+1,n.setDate(1),s<11?n.setMonth(s+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1));else return n.setDate(n.getDate()+t),n;return n},ii=(e,t)=>{w().set(e,t)},ai=(e,t,n,s)=>{var r,c,d,u,h,b=l()[s+40>>2],j={tm_sec:a()[s>>2],tm_min:a()[s+4>>2],tm_hour:a()[s+8>>2],tm_mday:a()[s+12>>2],tm_mon:a()[s+16>>2],tm_year:a()[s+20>>2],tm_wday:a()[s+24>>2],tm_yday:a()[s+28>>2],tm_isdst:a()[s+32>>2],tm_gmtoff:a()[s+36>>2],tm_zone:b?X(b):""},i=X(n),m={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(r in m)i=i.replace(new RegExp(r,"g"),m[r]);u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["January","February","March","April","May","June","July","August","September","October","November","December"];function f(e,t,n){for(var s=typeof e=="number"?e.toString():e||"";s.length<t;)s=n[0]+s;return s}function o(e,t){return f(e,t,"0")}function p(e,t){function s(e){return e<0?-1:e>0?1:0}var n;return(n=s(e.getFullYear()-t.getFullYear()))===0&&(n=s(e.getMonth()-t.getMonth()))===0&&(n=s(e.getDate()-t.getDate())),n}function g(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function v(e){var t=oi(new Date(e.tm_year+1900,0,1),e.tm_yday),n=new Date(t.getFullYear(),0,4),s=new Date(t.getFullYear()+1,0,4),o=g(n),i=g(s);return p(o,t)<=0?p(i,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}d={"%a":e=>u[e.tm_wday].substring(0,3),"%A":e=>u[e.tm_wday],"%b":e=>h[e.tm_mon].substring(0,3),"%B":e=>h[e.tm_mon],"%C":e=>{var t=e.tm_year+1900;return o(t/100|0,2)},"%d":e=>o(e.tm_mday,2),"%e":e=>f(e.tm_mday,2," "),"%g":e=>v(e).toString().substring(2),"%G":v,"%H":e=>o(e.tm_hour,2),"%I":e=>{var t=e.tm_hour;return t==0?t=12:t>12&&(t-=12),o(t,2)},"%j":e=>o(e.tm_mday+ti(_e(e.tm_year+1900)?en:Jt,e.tm_mon-1),3),"%m":e=>o(e.tm_mon+1,2),"%M":e=>o(e.tm_min,2),"%n":()=>`
`,"%p":e=>e.tm_hour>=0&&e.tm_hour<12?"AM":"PM","%S":e=>o(e.tm_sec,2),"%t":()=>"	","%u":e=>e.tm_wday||7,"%U":e=>{var t=e.tm_yday+7-e.tm_wday;return o(Math.floor(t/7),2)},"%V":e=>{var n,s,t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);return(e.tm_wday+371-e.tm_yday-2)%7<=2&&t++,t?t==53&&(s=(e.tm_wday+371-e.tm_yday)%7,s!=4&&(s!=3||!_e(e.tm_year))&&(t=1)):(t=52,n=(e.tm_wday+7-e.tm_yday-1)%7,(n==4||n==5&&_e(e.tm_year%400-1))&&t++),o(t,2)},"%w":e=>e.tm_wday,"%W":e=>{var t=e.tm_yday+7-(e.tm_wday+6)%7;return o(Math.floor(t/7),2)},"%y":e=>(e.tm_year+1900).toString().substring(2),"%Y":e=>e.tm_year+1900,"%z":e=>{var t=e.tm_gmtoff,n=t>=0,t=Math.abs(t)/60,t=t/60*100+t%60;return(n?"+":"-")+String("0000"+t).slice(-4)},"%Z":e=>e.tm_zone,"%%":()=>"%"},i=i.replace(/%%/g,"\0\0");for(r in d)i.includes(r)&&(i=i.replace(new RegExp(r,"g"),d[r](j)));return i=i.replace(/\0\0/g,"%"),c=mt(i,!1),c.length>t?0:(ii(c,e),c.length-1)},ri=(e,t,n,s)=>ai(e,t,n,s),ci=n.createPath,li=e=>n.unlink(e),di=n.createLazyFile,ui=n.createDevice,s.requestFullscreen=o.requestFullscreen,s.requestAnimationFrame=o.requestAnimationFrame,s.setCanvasSize=o.setCanvasSize,s.pauseMainLoop=o.mainLoop.pause,s.resumeMainLoop=o.mainLoop.resume,s.getUserMedia=o.getUserMedia,s.createContext=o.createContext,hi={},mi={},r.init(),n.createPreloadedFile=qt,n.staticInit(),s.FS_createPath=n.createPath,s.FS_createDataFile=n.createDataFile,s.FS_createPreloadedFile=n.createPreloadedFile,s.FS_unlink=n.unlink,s.FS_createLazyFile=n.createLazyFile,s.FS_createDevice=n.createDevice,bo=s.InternalError=class InternalError extends Error{constructor(e){super(e),this.name="InternalError"}},_s(),Y=s.BindingError=class BindingError extends Error{constructor(e){super(e),this.name="BindingError"}},Kn(),Hn(),is(),fs=s.UnboundTypeError=ms(Error,"UnboundTypeError"),Ds(),fi=[Ko,ji,go,vi,si,ni,nn,tn,Yo,Xo,Qo,Jo];function Wi(){pi={f:ys,V:Ft,J:vi,aa:si,I:ni,P:qo,ga:qs,o:Vs,N:ks,ea:Fn,j:vs,t:xs,e:Cs,d:Es,g:As,b:Ss,da:Rs,L:Is,c:Bs,w:$s,n:Ws,l:Us,K:Ks,E:eo,ha:to,B:no,p:so,i:oo,fa:io,W:ro,Z:co,R:ho,X:fo,F:po,Y:De,ca:En,u:jo,q:Oo,h:Fe,r:ko,s:Ao,z:So,y:Mo,v:Fo,m:To,A:zo,k:Do,G:No,ba:Lo,S:Po,x:Le,T:Ho,Q:Bo,_:nn,$:tn,U:nt,D:Yo,H:Xo,M:Qo,C:Jo,a:_,O:ri}}h=Ri(),bi=()=>(bi=h.ia)(),Qt=e=>(Qt=h.ja)(e),Xt=()=>(Xt=h.ka)(),I=()=>(I=h.la)(),Ge=s._malloc=e=>(Ge=s._malloc=h.ma)(e),A=s._free=e=>(A=s._free=h.oa)(e),xi=()=>(xi=h.pa)(),it=(e,t,n,s,o,i)=>(it=h.qa)(e,t,n,s,o,i),Wt=()=>(Wt=h.ra)(),Bt=(e,t,n,s,o)=>(Bt=h.sa)(e,t,n,s,o),ct=e=>(ct=h.ta)(e),de=e=>(de=h.ua)(e),Pt=()=>(Pt=h.va)(),Nt=(e,t)=>(Nt=h.wa)(e,t),Dt=e=>(Dt=h.xa)(e),zt=e=>(zt=h.ya)(e),Tt=()=>(Tt=h.za)(),Mt=(e,t,n,s)=>(Mt=h.Aa)(e,t,n,s),St=e=>(St=h.Ba)(e),hs=s.dynCall_ji=(e,t)=>(hs=s.dynCall_ji=h.Ca)(e,t),os=s.dynCall_viijii=(e,t,n,o,i,a,r)=>(os=s.dynCall_viijii=h.Da)(e,t,n,o,i,a,r),ss=s.dynCall_jiii=(e,t,n,o)=>(ss=s.dynCall_jiii=h.Ea)(e,t,n,o),ns=s.dynCall_vij=(e,t,n,o)=>(ns=s.dynCall_vij=h.Fa)(e,t,n,o),ts=s.dynCall_jii=(e,t,n)=>(ts=s.dynCall_jii=h.Ga)(e,t,n),es=s.dynCall_viji=(e,t,n,o,i)=>(es=s.dynCall_viji=h.Ha)(e,t,n,o,i),Xn=s.dynCall_jiji=(e,t,n,o,i)=>(Xn=s.dynCall_jiji=h.Ia)(e,t,n,o,i),Yn=s.dynCall_iiiiij=(e,t,n,o,i,a,r)=>(Yn=s.dynCall_iiiiij=h.Ja)(e,t,n,o,i,a,r),Un=s.dynCall_iiiiijj=(e,t,n,o,i,a,r,c,l)=>(Un=s.dynCall_iiiiijj=h.Ka)(e,t,n,o,i,a,r,c,l),Wn=s.dynCall_iiiiiijj=(e,t,n,o,i,a,r,c,l,d)=>(Wn=s.dynCall_iiiiiijj=h.La)(e,t,n,o,i,a,r,c,l,d),s.addRunDependency=ve,s.removeRunDependency=Q,s.FS_createPreloadedFile=qt,s.FS_unlink=li,s.FS_createPath=ci,s.FS_createDevice=ui,s.FS_createDataFile=Ut,s.FS_createLazyFile=di,ee=function e(){gt||$n(),gt||(ee=e)};function $n(){if(P>0)return;if(f){At(s),Gn(),startWorker(s);return}if(Bi(),P>0)return;function e(){if(gt)return;if(gt=!0,s.calledRun=!0,U)return;Gn(),At(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),Fi()}s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),e()},1)):e()}if(s.preInit)for(typeof s.preInit=="function"&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();$n(),typeof s.FS=="undefined"&&typeof n!="undefined"&&(s.FS=n),typeof i=="undefined"&&(i=s),s.imread=function(e){var n,s,o,t=null;if(typeof e=="string"?t=document.getElementById(e):t=e,n=null,s=null,t instanceof HTMLImageElement)n=document.createElement("canvas"),n.width=t.width,n.height=t.height,s=n.getContext("2d",{willReadFrequently:!0}),s.drawImage(t,0,0,t.width,t.height);else if(t instanceof HTMLCanvasElement||t instanceof OffscreenCanvas)n=t,s=n.getContext("2d");else{throw new Error("Please input the valid canvas or img id.");return}return o=s.getImageData(0,0,n.width,n.height),i.matFromImageData(o)},s.imshow=function(e,t){var n,o,a,r,c,l,s=null;if(typeof e=="string"?s=document.getElementById(e):s=e,!(s instanceof HTMLCanvasElement)){throw new Error("Please input the valid canvas element or id.");return}if(!(t instanceof i.Mat)){throw new Error("Please input the valid cv.Mat instance.");return}switch(n=new i.Mat,o=t.type()%8,c=o<=i.CV_8S?1:o<=i.CV_32S?1/256:255,l=o===i.CV_8S||o===i.CV_16S?128:0,t.convertTo(n,i.CV_8U,c,l),n.type()){case i.CV_8UC1:i.cvtColor(n,n,i.COLOR_GRAY2RGBA);break;case i.CV_8UC3:i.cvtColor(n,n,i.COLOR_RGB2RGBA);break;case i.CV_8UC4:break;default:throw new Error("Bad number of channels (Source image must have 1, 3 or 4 channels)");return}a=new ImageData(new Uint8ClampedArray(n.data),n.cols,n.rows),r=s.getContext("2d"),r.clearRect(0,0,s.width,s.height),s.width=a.width,s.height=a.height,r.putImageData(a,0,0),n.delete()},s.VideoCapture=function(e){var n,s,t=null;if(typeof e=="string"?t=document.getElementById(e):t=e,!(t instanceof HTMLVideoElement)){throw new Error("Please input the valid video element or id.");return}n=document.createElement("canvas"),n.width=t.width,n.height=t.height,s=n.getContext("2d"),this.video=t,this.read=function(e){if(!(e instanceof i.Mat)){throw new Error("Please input the valid cv.Mat instance.");return}if(e.type()!==i.CV_8UC4){throw new Error("Bad type of input mat: the type should be cv.CV_8UC4.");return}if(e.cols!==t.width||e.rows!==t.height){throw new Error("Bad size of input mat: the size should be same as the video.");return}s.drawImage(t,0,0,t.width,t.height),e.data.set(s.getImageData(0,0,t.width,t.height).data)}};function Xi(e,t){this.start=typeof e=="undefined"?0:e,this.end=typeof t=="undefined"?0:t}s.Range=Xi;function bt(e,t){this.x=typeof e=="undefined"?0:e,this.y=typeof t=="undefined"?0:t}s.Point=bt;function Zi(e,t){this.width=typeof e=="undefined"?0:e,this.height=typeof t=="undefined"?0:t}s.Size=Zi;function Ji(){switch(arguments.length){case 0:{this.x=0,this.y=0,this.width=0,this.height=0;break}case 1:{var t,n,e=arguments[0];this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height;break}case 2:{t=arguments[0],n=arguments[1],this.x=t.x,this.y=t.y,this.width=n.width,this.height=n.height;break}case 4:{this.x=arguments[0],this.y=arguments[1],this.width=arguments[2],this.height=arguments[3];break}default:throw new Error("Invalid arguments")}}s.Rect=Ji;function jt(){switch(arguments.length){case 0:{this.center={x:0,y:0},this.size={width:0,height:0},this.angle=0;break}case 3:{this.center=arguments[0],this.size=arguments[1],this.angle=arguments[2];break}default:throw new Error("Invalid arguments")}}jt.points=function(e){return s.rotatedRectPoints(e)},jt.boundingRect=function(e){return s.rotatedRectBoundingRect(e)},jt.boundingRect2f=function(e){return s.rotatedRectBoundingRect2f(e)},s.RotatedRect=jt;function _t(e,t,n,s){this.push(typeof e=="undefined"?0:e),this.push(typeof t=="undefined"?0:t),this.push(typeof n=="undefined"?0:n),this.push(typeof s=="undefined"?0:s)}_t.prototype=new Array,_t.all=function(e){return new _t(e,e,e,e)},s.Scalar=_t;function na(){switch(arguments.length){case 0:{this.minVal=0,this.maxVal=0,this.minLoc=new bt,this.maxLoc=new bt;break}case 4:{this.minVal=arguments[0],this.maxVal=arguments[1],this.minLoc=arguments[2],this.maxLoc=arguments[3];break}default:throw new Error("Invalid arguments")}}s.MinMaxLoc=na;function sa(){switch(arguments.length){case 0:{this.center=new bt,this.radius=0;break}case 2:{this.center=arguments[0],this.radius=arguments[1];break}default:throw new Error("Invalid arguments")}}s.Circle=sa;function $i(){switch(arguments.length){case 0:{this.type=0,this.maxCount=0,this.epsilon=0;break}case 3:{this.type=arguments[0],this.maxCount=arguments[1],this.epsilon=arguments[2];break}default:throw new Error("Invalid arguments")}}return s.TermCriteria=$i,s.matFromArray=function(e,t,n,s){var o=new i.Mat(e,t,n);switch(n){case i.CV_8U:case i.CV_8UC1:case i.CV_8UC2:case i.CV_8UC3:case i.CV_8UC4:{o.data.set(s);break}case i.CV_8S:case i.CV_8SC1:case i.CV_8SC2:case i.CV_8SC3:case i.CV_8SC4:{o.data8S.set(s);break}case i.CV_16U:case i.CV_16UC1:case i.CV_16UC2:case i.CV_16UC3:case i.CV_16UC4:{o.data16U.set(s);break}case i.CV_16S:case i.CV_16SC1:case i.CV_16SC2:case i.CV_16SC3:case i.CV_16SC4:{o.data16S.set(s);break}case i.CV_32S:case i.CV_32SC1:case i.CV_32SC2:case i.CV_32SC3:case i.CV_32SC4:{o.data32S.set(s);break}case i.CV_32F:case i.CV_32FC1:case i.CV_32FC2:case i.CV_32FC3:case i.CV_32FC4:{o.data32F.set(s);break}case i.CV_64F:case i.CV_64FC1:case i.CV_64FC2:case i.CV_64FC3:case i.CV_64FC4:{o.data64F.set(s);break}default:throw new Error("Type is unsupported")}return o},s.matFromImageData=function(e){var t=new i.Mat(e.height,e.width,i.CV_8UC4);return t.data.set(e.data),t},Mn=qi,Mn}})();return typeof exports=="object"&&typeof module=="object"?module.exports=e:typeof define=="function"&&define.amd&&define([],()=>e),t=globalThis.self?.name==="em-pthread",n=typeof globalThis.process?.versions?.node=="string",n&&(t=require("worker_threads").workerData==="em-pthread"),t&&e(),typeof Module=="undefined"&&(Module={}),e(Module)})