async function loadOpenCV(e,t){let n="",s="",l="",d="",u="",a="";if(!(e instanceof Object))throw new Error("The first input should be a object that points the path to the OpenCV.js");"asm"in e&&(s=e.asm),"wasm"in e&&(l=e.wasm),"threads"in e&&(u=e.threads),"simd"in e&&(d=e.simd),"threadsSimd"in e&&(a=e.threadsSimd);let o=typeof WebAssembly!="undefined";if(!o&&n===""&&s!="")n=s,console.log("The OpenCV.js for Asm.js is loaded now");else if(!o&&s=="")throw new Error("The browser supports the Asm.js only, but the path of OpenCV.js for Asm.js is empty");let r=!!o&&await wasmFeatureDetect.simd(),c=!!o&&await wasmFeatureDetect.threads();if(r&&c&&a!=""?(n=a,console.log("The OpenCV.js with simd and threads optimization is loaded now")):r&&d!=""?(c&&a===""&&console.log("The browser supports simd and threads, but the path of OpenCV.js with simd and threads optimization is empty"),n=d,console.log("The OpenCV.js with simd optimization is loaded now.")):c&&u!=""?(r&&a===""&&console.log("The browser supports simd and threads, but the path of OpenCV.js with simd and threads optimization is empty"),n=u,console.log("The OpenCV.js with threads optimization is loaded now")):o&&l!=""?(r&&c&&console.log("The browser supports simd and threads, but the path of OpenCV.js with simd and threads optimization is empty"),r&&console.log("The browser supports simd optimization, but the path of OpenCV.js with simd optimization is empty"),c&&console.log("The browser supports threads optimization, but the path of OpenCV.js with threads optimization is empty"),n=l,console.log("The OpenCV.js for wasm is loaded now")):o&&(console.log("The browser supports wasm, but the path of OpenCV.js for wasm is empty"),s!=""&&(n=s,console.log("The OpenCV.js for Asm.js is loaded as fallback."))),n==="")throw new Error("No available OpenCV.js, please check your paths");let i=document.createElement("script");i.setAttribute("async",""),i.setAttribute("type","text/javascript"),i.addEventListener("load",()=>{t()}),i.addEventListener("error",()=>{console.log("Failed to load opencv.js")}),i.src=n;let h=document.getElementsByTagName("script")[0];h.src!=n&&h.parentNode.insertBefore(i,h)}