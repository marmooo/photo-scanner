<!doctype html>
<html lang="en">
  <head prefix="og: http://ogp.me/ns#">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="スマートフォンやPCでのドキュメントスキャンを効率化するアプリです。写真はスキャナー画像のように自動補正されます。もちろん歪み補正や色補正、ノイズ除去などを手動で調整することもできます。">
    <title>Photo Scanner</title>
    <meta property="og:title" content="Photo Scanner">
    <meta property="og:site_name" content="Photo Scanner">
    <meta property="og:description" content="スマートフォンやPCでのドキュメントスキャンを効率化するアプリです。写真はスキャナー画像のように自動補正されます。もちろん歪み補正や色補正、ノイズ除去などを手動で調整することもできます。">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://marmooo.github.io/photo-scanner/">
    <meta property="og:image" content="https://marmooo.github.io/photo-scanner/favicon/apple-touch-icon.png">
    <meta name="twitter:card" content="summary">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-F2179JXDYY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-F2179JXDYY');
    </script>
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
          navigator.serviceWorker.register('/photo-scanner/ja/sw.js');
        });
      }
    </script>
    <link rel="icon" type="image/png" href="/photo-scanner/favicon/favicon.png">
    <link rel="icon" type="image/svg+xml" href="/photo-scanner/favicon/favicon.svg">
    <link rel="apple-touch-icon" sizes="180x180" href="/photo-scanner/favicon/apple-touch-icon.png">
    <link rel="manifest" href="/photo-scanner/favicon/site.webmanifest">
    <link rel="alternate" href="https://marmooo.github.io/photo-scanner/" hreflang="x-default">
    <link rel="alternate" href="https://marmooo.github.io/photo-scanner/ja/" hreflang="ja">
    <link rel="alternate" href="https://marmooo.github.io/photo-scanner/en/" hreflang="en">
    <link class="drop-inline-css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <style>
      .cropPivots { touch-action:none; }
      .cropNav {
        color:white; background: black; opacity:0.5;
        border-radius: .25rem; padding: .5rem;
        position:absolute; left:50%; top:50%; transform:translate(-50%, -50%);
      }
      .canvasContainer { width:100%; height:calc(100vh - 110px); }
      .filterLabel { width: 110px; }
      .filterNav { background:transparent; position:absolute; left:0; top:0; }
      svg:hover { fill-opacity:0.8; }
      html[data-bs-theme="dark"] .favicon { filter: invert(1) hue-rotate(180deg); }
    </style>
    <script data-ad-client="ca-pub-6459713332128733" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  </head>
  <body>
    <header>
      <nav class="navbar navbar-expand">
        <div class="container flex-wrap">
          <a class="navbar-brand" href="/photo-scanner/">
            <img class="favicon" alt="" src="/photo-scanner/favicon/favicon.svg" width="32" height="32">
            Photo Scanner
          </a>
          <div class="navbar-nav">
            <select title="言語" id="lang" class="form-select form-select-sm">
              <option value="en">English</option>
              <option value="ja" selected>日本語</option>
            </select>
            <button title="toggle dark-mode" id="toggleDarkMode" class="fs-4 btn p-0 ms-1" type="button">🌓</button>
          </div>
        </div>
      </nav>
    </header>
    <main class="container">
      <noscript>
        <div class="alert alert-warning">Please enable JavaScript.</div>
      </noscript>
      <div class="row">
        <div class="col-lg-7 pb-3">
          <div id="loadPanel">
            <div class="alert alert-warning">
              <p>スマートフォンやPCでのドキュメントスキャンを効率化するアプリです。
                写真はスキャナー画像のように自動補正されます。
                もちろん歪み補正や色補正、ノイズ除去などを手動で調整することもできます。
              </p>
              <div class="text-center">
                <img class="img-fluid" src="/photo-scanner/img/scanner.svg" width="150" height="150" alt="">
              </div>
              <p class="pt-3">まずはスキャンしたい画像を指定しましょう。
                クリップボード、ファイル選択、カメラ撮影からの指定がサポートされています。
              </p>
              <div class="text-center">
                <button title="クリップボードから読み込み" class="clipboard btn p-0 mx-2" type="button" data-bs-toggle="tooltip">
                  <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 14 16" fill="currentColor">
                    <path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"></path>
                  </svg>
                </button>
                <button title="ファイルから選択" class="selectImage btn p-0 mx-2" type="button" data-bs-toggle="tooltip">
                  <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M17 12v5H3v-5H1v5a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5z"/><path d="M15 7l-5-6-5 6h4v8h2V7h4z"/>
                  </svg>
                </button>
                <input class="inputImage" type="file" accept="image/*" hidden>
                <button title="カメラを起動" class="executeCamera btn p-0 mx-2" type="button" data-bs-toggle="tooltip">
                  <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"/>
                    <path d="M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4zm.5 2a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
          <div id="cameraPanel" class="text-center position-relative user-select-none d-none">
            <div class="canvasContainer d-flex align-items-center justify-content-center bg-dark-subtle">
              <div class="loadingMessage position-absolute">⌛ ビデオを読み込み中...</div>
              <div class="position-relative m-100 h-100">
                <canvas class="w-100 h-100 object-fit-contain"></canvas>
              </div>
            </div>
            <div>
              <button title="トップへ戻る" class="moveTop btn p-0 mx-2" type="button" data-bs-toggle="tooltip">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M0 0h24v24H0z" fill="none"/><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                </svg>
              </button>
              <button title="撮影方向の切替" class="toggleFacingMode btn p-0 mx-2" type="button" data-bs-toggle="tooltip">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="currentColor">
                  <g><rect fill="none" height="24" width="24"/></g><g><g><path d="M20,5h-3.17L15,3H9L7.17,5H4C2.9,5,2,5.9,2,7v12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V7C22,5.9,21.1,5,20,5z M12,18 c-2.76,0-5-2.24-5-5H5l2.5-2.5L10,13H8c0,2.21,1.79,4,4,4c0.58,0,1.13-0.13,1.62-0.35l0.74,0.74C13.65,17.76,12.86,18,12,18z M16.5,15.5L14,13h2c0-2.21-1.79-4-4-4c-0.58,0-1.13,0.13-1.62,0.35L9.64,8.62C10.35,8.24,11.14,8,12,8c2.76,0,5,2.24,5,5h2 L16.5,15.5z"/></g></g>
                </svg>
              </button>
              <button title="写真撮影" class="snapshot btn p-0 mx-2" type="button" data-bs-toggle="tooltip">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M0 0h24v24H0z" fill="none"/><path d="M9.4 10.5l4.77-8.26C13.47 2.09 12.75 2 12 2c-2.4 0-4.6.85-6.32 2.25l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25C21 16.97 22 14.61 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75C3.01 7.03 2 9.39 2 12c0 .69.07 1.35.2 2h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0l-3.9 6.76c.7.15 1.42.24 2.17.24 2.4 0 4.6-.85 6.32-2.25l-3.66-6.35-.93 1.6z"/>
                </svg>
              </button>
            </div>
          </div>
          <div id="editCarousel" class="carousel carousel-dark slide d-none">
            <div class="carousel-inner">
              <div class="carousel-item active">
                <div id="cropPanel" class="text-center user-select-none d-none">
                  <div class="canvasContainer d-flex align-items-center justify-content-center bg-dark-subtle">
                    <div class="position-relative w-100 h-100 m-3">
                      <div class="cropNav text-center">
                        ピボットを移動して撮影範囲を調整してください。
                      </div>
                      <svg class="cropPivots position-absolute" xmlns="http://www.w3.org/2000/svg" width="300" height="300">
                        <style>
polygon { fill:none; stroke:royalblue; stroke-width:4; opacity:.8; stroke-linejoin:round; }
circle { fill:blue; stroke:white; stroke-width:4; opacity:.8; cursor:grab; }
                        </style>
                        <polygon points="50,50 250,50 250,250 50,250"/>
                        <circle cx="50" cy="50" r="16"/>
                        <circle cx="250" cy="50" r="16"/>
                        <circle cx="250" cy="250" r="16"/>
                        <circle cx="50" cy="250" r="16"/>
                      </svg>
                      <canvas class="cropCanvas w-100 h-100 object-fit-contain"></canvas>
                    </div>
                  </div>
                  <div>
                    <button title="move top" class="moveTop btn p-0 mx-2" type="button" data-bs-toggle="tooltip">
                      <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M0 0h24v24H0z" fill="none"/><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                      </svg>
                    </button>
                    <button title="クリップボードから読み込み" class="clipboard btn p-0 mx-2" type="button" data-bs-toggle="tooltip">
                      <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 14 16" fill="currentColor">
                        <path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"></path>
                      </svg>
                    </button>
                    <button title="画像を選択" class="selectImage btn p-0 mx-2" type="button" data-bs-toggle="tooltip">
                      <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M17 12v5H3v-5H1v5a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5z"/><path d="M15 7l-5-6-5 6h4v8h2V7h4z"/>
                      </svg>
                    </button>
                    <input class="inputImage" type="file" accept="image/*" hidden>
                    <button title="カメラを起動" class="executeCamera btn p-0 mx-2" type="button" data-bs-toggle="tooltip">
                      <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"/>
                        <path d="M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4zm.5 2a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0"/>
                      </svg>
                    </button>
                    <button title="矩形を切り抜く" class="perspectiveProjection btn p-0 mx-2" type="button">
                      <!-- Phosphor Icons (MIT) https://github.com/phosphor-icons/core -->
                      <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 256 256" fill="currentColor">
                        <path d="M230.64,49.36a32,32,0,0,0-45.26,0h0a31.9,31.9,0,0,0-5.16,6.76L152,48.42A32,32,0,0,0,97.37,25.36h0a32.06,32.06,0,0,0-5.76,37.41L57.67,93.32a32.05,32.05,0,0,0-40.31,4.05h0a32,32,0,0,0,42.89,47.41l70,51.36a32,32,0,1,0,47.57-14.69l27.39-77.59q1.38.12,2.76.12a32,32,0,0,0,22.63-54.62Zm-122-12.69h0a16,16,0,1,1,0,22.64A16,16,0,0,1,108.68,36.67Zm-80,94.65a16,16,0,0,1,0-22.64h0a16,16,0,1,1,0,22.64Zm142.65,88a16,16,0,0,1-22.63-22.63h0a16,16,0,1,1,22.63,22.63Zm-8.55-43.18a32,32,0,0,0-23,7.08l-70-51.36a32.17,32.17,0,0,0-1.34-26.65l33.95-30.55a32,32,0,0,0,45.47-10.81L176,71.56a32,32,0,0,0,14.12,27Zm56.56-92.84A16,16,0,1,1,196.7,60.68h0a16,16,0,0,1,22.63,22.63Z"></path>
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
              <div class="carousel-item">
                <div id="filterPanel" class="user-select-none d-none">
                  <div class="canvasContainer d-flex align-items-center justify-content-center bg-dark-subtle">
                    <div class="position-relative w-100 h-100">
                      <canvas class="w-100 h-100 object-fit-contain"></canvas>
                      <div class="filterNav">
                        <div class="form-group d-flex align-items-center">
                          <div class="filterLabel col-form-label">Filter</div>
                          <div class="d-flex w-100">
                            <select class="filterSelect form-select form-selecct-sm opacity-75">
                              <optgroup label="Recommend">
                                <option value="aspectRatio">Aspect Ratio</option>
                                <option value="binarization">Binarization</option>
                              </optgroup>
                              <optgroup label="Adjust">
                                <option value="brightnessContrast">Brightness / Contrast</option>
                                <option value="hueSaturation">Hue / Saturation</option>
                                <option value="vibrance">Vibrance</option>
                                <option value="denoise">Denoise</option>
                                <option value="unsharpMask">Unsharp Mask</option>
                                <option value="sepia">Sepia</option>
                              </optgroup>
                            </select>
                          </div>
                        </div>
                        <div class="aspectRatio py-2">
                          <div class="form-check-inline">
                            <label class="form-check-label">
                              <input class="form-check-input opacity-75" type="radio" name="aspectRatio" value="0" checked>
                              auto
                            </label>
                          </div>
                          <div class="form-check-inline">
                            <label class="form-check-label">
                              <input class="form-check-input opacity-75" type="radio" name="aspectRatio" value="1">
                              1:1
                            </label>
                          </div>
                          <div class="form-check-inline">
                            <label class="form-check-label">
                              <input class="form-check-input opacity-75" type="radio" name="aspectRatio" value="1.414">
                              1:√2
                            </label>
                          </div>
                          <div class="form-check-inline">
                            <label class="form-check-label">
                              <input class="form-check-input opacity-75" type="radio" name="aspectRatio" value="0.707">
                              √2:1
                            </label>
                          </div>
                          <div class="form-check-inline">
                            <label class="form-check-label">
                              <input class="form-check-input opacity-75" type="radio" name="aspectRatio" value="1.5">
                              2:3
                            </label>
                          </div>
                          <div class="form-check-inline">
                            <label class="form-check-label">
                              <input class="form-check-input opacity-75" type="radio" name="aspectRatio" value="0.666">
                              3:2
                            </label>
                          </div>
                          <div class="form-check-inline">
                            <div class="d-flex text-nowrap">
                              <div class="pe-1">
                                <label class="form-check-label">
                                  <input class="form-check-input opacity-75" type="radio" name="aspectRatio" value="0">
                                  manual (1:x), x=
                                </label>
                              </div>
                              <input class="aspectRatioValue form-control form-control-sm opacity-75" name="ratioValue" type="number" placeholder="1.234" min="0" step="0.1">
                            </div>
                          </div>
                        </div>
                        <div class="binarization d-none">
                          <div class="form-group d-flex align-items-center">
                            <div class="filterLabel col-form-label">Block size</div>
                            <div class="d-flex w-100">
                              <input type="range" class="binarizationBlocksizeRange form-range opacity-75" min="0" max="100" step="1" value="0" data-value="0">
                              <button title="reset" class="binarizationBlocksizeReset btn p-0" type="button">↩️</button>
                            </div>
                          </div>
                          <div class="form-group d-flex align-items-center">
                            <div class="filterLabel col-form-label">C</div>
                            <div class="d-flex w-100">
                              <input type="range" class="binarizationCRange form-range opacity-75" min="0" max="100" step="1" value="10" data-value="10">
                              <button title="reset" class="binarizationCReset btn p-0" type="button">↩️</button>
                            </div>
                          </div>
                        </div>
                        <div class="brightnessContrast d-none">
                          <div class="form-group d-flex align-items-center">
                            <div class="filterLabel col-form-label">Brightness</div>
                            <div class="d-flex w-100">
                              <input type="range" class="brightnessRange form-range opacity-75" min="-1" max="1" step="0.01" value="0" data-value="0">
                              <button title="reset" class="brightnessReset btn p-0" type="button">↩️</button>
                            </div>
                          </div>
                          <div class="form-group d-flex align-items-center">
                            <div class="filterLabel col-form-label">Contrast</div>
                            <div class="d-flex w-100">
                              <input type="range" class="contrastRange form-range opacity-75" min="-1" max="1" step="0.01" value="0" data-value="0">
                              <button title="reset" class="contrastReset btn p-0" type="button">↩️</button>
                            </div>
                          </div>
                        </div>
                        <div class="hueSaturation d-none">
                          <div class="form-group d-flex align-items-center">
                            <div class="filterLabel col-form-label">Hue</div>
                            <div class="d-flex w-100">
                              <input type="range" class="hueRange form-range opacity-75" min="-1" max="1" step="0.01" value="0" data-value="0">
                              <button title="reset" class="hueReset btn p-0" type="button">↩️</button>
                            </div>
                          </div>
                          <div class="form-group d-flex align-items-center">
                            <div class="filterLabel col-form-label">Saturation</div>
                            <div class="d-flex w-100">
                              <input type="range" class="saturationRange form-range opacity-75" min="-1" max="1" step="0.01" value="0" data-value="0">
                              <button title="reset" class="saturationReset btn p-0" type="button">↩️</button>
                            </div>
                          </div>
                        </div>
                        <div class="vibrance d-none">
                          <div class="form-group d-flex align-items-center">
                            <div class="filterLabel col-form-label">Vibrance</div>
                            <div class="d-flex w-100">
                              <input type="range" class="vibranceRange form-range opacity-75" min="-1" max="1" step="0.01" value="0" data-value="0">
                              <button title="reset" class="vibranceReset btn p-0" type="button">↩️</button>
                            </div>
                          </div>
                        </div>
                        <div class="denoise d-none">
                          <div class="form-group d-flex align-items-center">
                            <div class="filterLabel col-form-label">Exponent</div>
                            <div class="d-flex w-100">
                              <input type="range" class="denoiseRange form-range opacity-75" min="0" max="51" step="1" value="51" data-value="51">
                              <button title="reset" class="denoiseReset btn p-0" type="button">↩️</button>
                            </div>
                          </div>
                        </div>
                        <div class="unsharpMask d-none">
                          <div class="form-group d-flex align-items-center">
                            <div class="filterLabel col-form-label">Radius</div>
                            <div class="d-flex w-100">
                              <input type="range" class="unsharpMaskRadiusRange form-range opacity-75" min="0" max="200" step="1" value="0" data-value="0">
                              <button title="reset" class="unsharpMaskRadiusReset btn p-0" type="button">↩️</button>
                            </div>
                          </div>
                          <div class="form-group d-flex align-items-center">
                            <div class="filterLabel col-form-label">Strength</div>
                            <div class="d-flex w-100">
                              <input type="range" class="unsharpMaskStrengthRange form-range opacity-75" min="0" max="5" step="0.01" value="0" data-value="0">
                              <button title="reset" class="unsharpMaskStrengthReset btn p-0" type="button">↩️</button>
                            </div>
                          </div>
                        </div>
                        <div class="sepia d-none">
                          <div class="form-group d-flex align-items-center">
                            <div class="filterLabel col-form-label">Amount</div>
                            <div class="d-flex w-100">
                              <input type="range" class="sepiaRange form-range opacity-75" min="0" max="1" step="0.01" value="0" data-value="0">
                              <button title="reset" class="sepiaReset btn p-0" type="button">↩️</button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="text-center">
                    <button title="トップへ戻る" class="moveTop btn p-0 mx-2" type="button" data-bs-toggle="tooltip">
                      <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M0 0h24v24H0z" fill="none"/><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                      </svg>
                    </button>
                    <button title="切り抜きへ戻る" class="backToCrop btn p-0 mx-2" type="button" data-bs-toggle="tooltip">
                      <!-- Phosphor Icons (MIT) https://github.com/phosphor-icons/core -->
                      <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 256 256" fill="currentColor">
                        <path d="M230.64,49.36a32,32,0,0,0-45.26,0h0a31.9,31.9,0,0,0-5.16,6.76L152,48.42A32,32,0,0,0,97.37,25.36h0a32.06,32.06,0,0,0-5.76,37.41L57.67,93.32a32.05,32.05,0,0,0-40.31,4.05h0a32,32,0,0,0,42.89,47.41l70,51.36a32,32,0,1,0,47.57-14.69l27.39-77.59q1.38.12,2.76.12a32,32,0,0,0,22.63-54.62Zm-122-12.69h0a16,16,0,1,1,0,22.64A16,16,0,0,1,108.68,36.67Zm-80,94.65a16,16,0,0,1,0-22.64h0a16,16,0,1,1,0,22.64Zm142.65,88a16,16,0,0,1-22.63-22.63h0a16,16,0,1,1,22.63,22.63Zm-8.55-43.18a32,32,0,0,0-23,7.08l-70-51.36a32.17,32.17,0,0,0-1.34-26.65l33.95-30.55a32,32,0,0,0,45.47-10.81L176,71.56a32,32,0,0,0,14.12,27Zm56.56-92.84A16,16,0,1,1,196.7,60.68h0a16,16,0,0,1,22.63,22.63Z"></path>
                      </svg>
                    </button>
                    <button title="90度回転" class="rotate btn p-0 mx-2" type="button" data-bs-toggle="tooltip">
                      <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 16 16" fill="currentColor">
                        <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/>
                        <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/>
                      </svg>
                    </button>
                    <button title="アルバムへ追加" class="saveToAlbum btn p-0 mx-2" type="button" data-bs-toggle="tooltip">
                      <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 -960 960 960" fill="currentColor">
                        <path d="M700-618v-81h-81v-60h81v-81h60v81h81v60h-81v81h-60ZM240-282h480L576-474 449-307l-94-124-115 149ZM120-120v-720h439v222h60v60h221v438H120Z"></path>
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="thumbnailPanel" class="col-lg-5 pb-3">
          <div>
            <h5>Scan results</h5>
            <button title="すべて削除" class="remove btn p-0 mx-2" type="button" data-bs-toggle="tooltip">
              <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="currentColor">
                <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/><path d="M0 0h24v24H0z" fill="none"/>
              </svg>
            </button>
            <button title="ダウンロード" class="download btn p-0 mx-2" type="button" data-bs-toggle="tooltip">
              <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 20 20" fill="currentColor">
                <path d="M17 12v5H3v-5H1v5a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5z"/><path d="M10 15l5-6h-4V1H9v8H5l5 6z"/>
              </svg>
            </button>
            <button title="Dropboxへアップロード" class="uploadDropbox btn p-0 mx-2" type="button" data-bs-toggle="tooltip">
              <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 528 512" fill="currentColor">
                <path d="M264.4 116.3l-132 84.3 132 84.3-132 84.3L0 284.1l132.3-84.3L0 116.3 132.3 32l132.1 84.3zM131.6 395.7l132-84.3 132 84.3-132 84.3-132-84.3zm132.8-111.6l132-84.3-132-83.6L395.7 32 528 116.3l-132.3 84.3L528 284.8l-132.3 84.3-131.3-85z"/>
              </svg>
            </button>
            <button title="サーバへアップロード" class="uploadServer btn p-0 mx-2" type="button" data-bs-toggle="tooltip">
              <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="currentColor">
                <path d="M0 0h24v24H0z" fill="none"/><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/>
              </svg>
            </button>
            <button class="showConfig btn p-0 mx-2" type="button"
                                                    data-bs-toggle="collapse" data-bs-target="#configPanel" aria-expanded="false" aria-controls="configPanel">
              <span title="設定" data-bs-toggle="tooltip">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 16 16" fill="currentColor">
                  <path fill-rule="evenodd" d="M4.48 7.27c.26.26 1.28 1.33 1.28 1.33l.56-.58-.88-.91 1.69-1.8s-.76-.74-.43-.45c.32-1.19.03-2.51-.87-3.44C4.93.5 3.66.2 2.52.51l1.93 2-.51 1.96-1.89.52-1.93-2C-.19 4.17.1 5.48 1 6.4c.94.98 2.29 1.26 3.48.87zm6.44 1.94l-2.33 2.3 3.84 3.98c.31.33.73.49 1.14.49.41 0 .82-.16 1.14-.49.63-.65.63-1.7 0-2.35l-3.79-3.93zM16 2.53L13.55 0 6.33 7.46l.88.91-4.31 4.46-.99.53-1.39 2.27.35.37 2.2-1.44.51-1.02L7.9 9.08l.88.91L16 2.53z"></path>
                </svg>
              </span>
            </button>
          </div>
          <div id="configPanel" class="collapse py-3">
            <form class="configForm">
              <h5>Configuration</h5>
              <div class="card">
                <h6 class="card-header">撮影の解像度</h6>
                <div class="card-body">
                  <select name="resolution" class="resolution form-select">
                    <option value="0" selected>auto</option>
                    <option value="8000">8000k</option>
                    <option value="4000">4000k</option>
                    <option value="2000">2000k</option>
                    <option value="1000">1000k</option>
                    <option value="800">800k</option>
                    <option value="400">400k</option>
                    <option value="200">200k</option>
                    <option value="100">100k</option>
                  </select>
                </div>
              </div>
              <div class="card">
                <h6 class="card-header">Dropbox へアップロード</h6>
                <div class="card-body">
                  <ol class="ps-3 mb-0">
                    <li><a href="https://www.dropbox.com/developers/apps">App Console</a> で画像を保存するアプリを作ってください。</li>
                    <li>Redirect URIs に <code>https://marmooo.github.io/photo-scanner/</code> と入力して保存してください。</li>
                    <li>App key を以下のテキストボックスに入力してください。
                      <input class="clientId form-control my-2" type="text" placeholder="App key">
                    </li>
                    <li>以下のボタンからアプリをリロードしてください。<br>
                      <a class="reloadApp btn btn-primary my-2" href="#" role="button">アプリをリロード</a>
                    </li>
                  </ol>
                </div>
              </div>
              <div class="card">
                <h6 class="card-header">サーバへアップロード</h6>
                <div class="card-body">
                  <p>サーバの設定例は <a href="https://github.com/marmooo/photo-scanner/blob/master/server.js">こちら</a> を参考にしてください。</p>
                  <input class="serverAddress form-control" type="text" placeholder="https://192.168.0.1:8000">
                </div>
              </div>
            </form>
            <div class="card">
              <h6 class="card-header">設定を消去</h6>
              <div class="card-body">
                <p>不特定多数のユーザが利用する環境では個人情報に注意してください。</p>
                <button class="clearConfig btn btn-primary" type="button">設定を消去</button>
              </div>
            </div>
          </div>
          <div class="gallery"></div>
        </div>
      </div>
      <template id="img-box">
        <style>
          .thumbnail { position:relative; float:left; padding:5px; }
          .toolbar { position:absolute; top:0; left:0; padding:10px; }
          button { cursor:pointer; background:transparent; border:0; padding:0; }
        </style>
        <div class="thumbnail">
          <img src="/photo-scanner/img/loading.gif" width="150" height="150" alt="" data-angle="0">
          <div class="toolbar">
            <button title="close" class="close" type="button">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>
            </button>
          </div>
        </div>
      </template>
    </main>
    <footer class="pt-4 alert text-center">
      <div>
        <a class="px-1" href="/">Home</a>
        <a class="px-1" href="/terms/">Terms</a>
        <a class="px-1" href="https://github.com/marmooo/photo-scanner">Contact</a>
      </div>
      <div class="text-muted">&copy; <a href="https://github.com/marmooo">marmooo</a></div>
    </footer>
    <div class="drop-inline-css
      tooltip tooltip-arrow tooltip-inner bs-tooltip-auto fade show
      bs-tooltip-top bs-tooltip-end bs-tooltip-bottom bs-tooltip-start
      collapsing d-none">
      <div data-popper-placement="left"></div>
      <div data-popper-placement="top"></div>
      <div data-popper-placement="right"></div>
      <div data-popper-placement="bottom"></div>
    </div>
    <script src="/photo-scanner/coi-serviceworker.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/wasm-feature-detect@1.6.1/dist/umd/index.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dropbox@10.34.0/dist/Dropbox-sdk.min.js"></script>
    <script type="module" src="/photo-scanner/index.js"></script>
  </body>
</html>
